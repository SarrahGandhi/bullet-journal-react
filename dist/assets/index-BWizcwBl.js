(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function fh(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ga={exports:{}},hs={},Ja={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd;function Up(){if(Cd)return oe;Cd=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function S(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function P(b,M,ie){this.props=b,this.context=M,this.refs=N,this.updater=ie||C}P.prototype.isReactComponent={},P.prototype.setState=function(b,M){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,M,"setState")},P.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function U(){}U.prototype=P.prototype;function A(b,M,ie){this.props=b,this.context=M,this.refs=N,this.updater=ie||C}var x=A.prototype=new U;x.constructor=A,O(x,P.prototype),x.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function Oe(b,M,ie){var ae,ue={},ce=null,me=null;if(M!=null)for(ae in M.ref!==void 0&&(me=M.ref),M.key!==void 0&&(ce=""+M.key),M)J.call(M,ae)&&!ne.hasOwnProperty(ae)&&(ue[ae]=M[ae]);var he=arguments.length-2;if(he===1)ue.children=ie;else if(1<he){for(var _e=Array(he),lt=0;lt<he;lt++)_e[lt]=arguments[lt+2];ue.children=_e}if(b&&b.defaultProps)for(ae in he=b.defaultProps,he)ue[ae]===void 0&&(ue[ae]=he[ae]);return{$$typeof:s,type:b,key:ce,ref:me,props:ue,_owner:K.current}}function Le(b,M){return{$$typeof:s,type:b.type,key:M,ref:b.ref,props:b.props,_owner:b._owner}}function zt(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function _r(b){var M={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ie){return M[ie]})}var It=/\/+/g;function at(b,M){return typeof b=="object"&&b!==null&&b.key!=null?_r(""+b.key):M.toString(36)}function St(b,M,ie,ae,ue){var ce=typeof b;(ce==="undefined"||ce==="boolean")&&(b=null);var me=!1;if(b===null)me=!0;else switch(ce){case"string":case"number":me=!0;break;case"object":switch(b.$$typeof){case s:case r:me=!0}}if(me)return me=b,ue=ue(me),b=ae===""?"."+at(me,0):ae,I(ue)?(ie="",b!=null&&(ie=b.replace(It,"$&/")+"/"),St(ue,M,ie,"",function(lt){return lt})):ue!=null&&(zt(ue)&&(ue=Le(ue,ie+(!ue.key||me&&me.key===ue.key?"":(""+ue.key).replace(It,"$&/")+"/")+b)),M.push(ue)),1;if(me=0,ae=ae===""?".":ae+":",I(b))for(var he=0;he<b.length;he++){ce=b[he];var _e=ae+at(ce,he);me+=St(ce,M,ie,_e,ue)}else if(_e=S(b),typeof _e=="function")for(b=_e.call(b),he=0;!(ce=b.next()).done;)ce=ce.value,_e=ae+at(ce,he++),me+=St(ce,M,ie,_e,ue);else if(ce==="object")throw M=String(b),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return me}function $t(b,M,ie){if(b==null)return b;var ae=[],ue=0;return St(b,ae,"","",function(ce){return M.call(ie,ce,ue++)}),ae}function et(b){if(b._status===-1){var M=b._result;M=M(),M.then(function(ie){(b._status===0||b._status===-1)&&(b._status=1,b._result=ie)},function(ie){(b._status===0||b._status===-1)&&(b._status=2,b._result=ie)}),b._status===-1&&(b._status=0,b._result=M)}if(b._status===1)return b._result.default;throw b._result}var je={current:null},z={transition:null},te={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:z,ReactCurrentOwner:K};function q(){throw Error("act(...) is not supported in production builds of React.")}return oe.Children={map:$t,forEach:function(b,M,ie){$t(b,function(){M.apply(this,arguments)},ie)},count:function(b){var M=0;return $t(b,function(){M++}),M},toArray:function(b){return $t(b,function(M){return M})||[]},only:function(b){if(!zt(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},oe.Component=P,oe.Fragment=n,oe.Profiler=l,oe.PureComponent=A,oe.StrictMode=o,oe.Suspense=g,oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,oe.act=q,oe.cloneElement=function(b,M,ie){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var ae=O({},b.props),ue=b.key,ce=b.ref,me=b._owner;if(M!=null){if(M.ref!==void 0&&(ce=M.ref,me=K.current),M.key!==void 0&&(ue=""+M.key),b.type&&b.type.defaultProps)var he=b.type.defaultProps;for(_e in M)J.call(M,_e)&&!ne.hasOwnProperty(_e)&&(ae[_e]=M[_e]===void 0&&he!==void 0?he[_e]:M[_e])}var _e=arguments.length-2;if(_e===1)ae.children=ie;else if(1<_e){he=Array(_e);for(var lt=0;lt<_e;lt++)he[lt]=arguments[lt+2];ae.children=he}return{$$typeof:s,type:b.type,key:ue,ref:ce,props:ae,_owner:me}},oe.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:c,_context:b},b.Consumer=b},oe.createElement=Oe,oe.createFactory=function(b){var M=Oe.bind(null,b);return M.type=b,M},oe.createRef=function(){return{current:null}},oe.forwardRef=function(b){return{$$typeof:f,render:b}},oe.isValidElement=zt,oe.lazy=function(b){return{$$typeof:_,_payload:{_status:-1,_result:b},_init:et}},oe.memo=function(b,M){return{$$typeof:y,type:b,compare:M===void 0?null:M}},oe.startTransition=function(b){var M=z.transition;z.transition={};try{b()}finally{z.transition=M}},oe.unstable_act=q,oe.useCallback=function(b,M){return je.current.useCallback(b,M)},oe.useContext=function(b){return je.current.useContext(b)},oe.useDebugValue=function(){},oe.useDeferredValue=function(b){return je.current.useDeferredValue(b)},oe.useEffect=function(b,M){return je.current.useEffect(b,M)},oe.useId=function(){return je.current.useId()},oe.useImperativeHandle=function(b,M,ie){return je.current.useImperativeHandle(b,M,ie)},oe.useInsertionEffect=function(b,M){return je.current.useInsertionEffect(b,M)},oe.useLayoutEffect=function(b,M){return je.current.useLayoutEffect(b,M)},oe.useMemo=function(b,M){return je.current.useMemo(b,M)},oe.useReducer=function(b,M,ie){return je.current.useReducer(b,M,ie)},oe.useRef=function(b){return je.current.useRef(b)},oe.useState=function(b){return je.current.useState(b)},oe.useSyncExternalStore=function(b,M,ie){return je.current.useSyncExternalStore(b,M,ie)},oe.useTransition=function(){return je.current.useTransition()},oe.version="18.3.1",oe}var Od;function Sl(){return Od||(Od=1,Ja.exports=Up()),Ja.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function Wp(){if(Nd)return hs;Nd=1;var s=Sl(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,y){var _,E={},S=null,C=null;y!==void 0&&(S=""+y),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(C=g.ref);for(_ in g)o.call(g,_)&&!c.hasOwnProperty(_)&&(E[_]=g[_]);if(f&&f.defaultProps)for(_ in g=f.defaultProps,g)E[_]===void 0&&(E[_]=g[_]);return{$$typeof:r,type:f,key:S,ref:C,props:E,_owner:l.current}}return hs.Fragment=n,hs.jsx=h,hs.jsxs=h,hs}var Rd;function zp(){return Rd||(Rd=1,Ga.exports=Wp()),Ga.exports}var m=zp(),se=Sl();const Bp=fh(se);var Li={},Qa={exports:{}},ot={},Ya={exports:{}},Xa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function Fp(){return Pd||(Pd=1,(function(s){function r(z,te){var q=z.length;z.push(te);e:for(;0<q;){var b=q-1>>>1,M=z[b];if(0<l(M,te))z[b]=te,z[q]=M,q=b;else break e}}function n(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var te=z[0],q=z.pop();if(q!==te){z[0]=q;e:for(var b=0,M=z.length,ie=M>>>1;b<ie;){var ae=2*(b+1)-1,ue=z[ae],ce=ae+1,me=z[ce];if(0>l(ue,q))ce<M&&0>l(me,ue)?(z[b]=me,z[ce]=q,b=ce):(z[b]=ue,z[ae]=q,b=ae);else if(ce<M&&0>l(me,q))z[b]=me,z[ce]=q,b=ce;else break e}}return te}function l(z,te){var q=z.sortIndex-te.sortIndex;return q!==0?q:z.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,f=h.now();s.unstable_now=function(){return h.now()-f}}var g=[],y=[],_=1,E=null,S=3,C=!1,O=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(z){for(var te=n(y);te!==null;){if(te.callback===null)o(y);else if(te.startTime<=z)o(y),te.sortIndex=te.expirationTime,r(g,te);else break;te=n(y)}}function I(z){if(N=!1,x(z),!O)if(n(g)!==null)O=!0,et(J);else{var te=n(y);te!==null&&je(I,te.startTime-z)}}function J(z,te){O=!1,N&&(N=!1,U(Oe),Oe=-1),C=!0;var q=S;try{for(x(te),E=n(g);E!==null&&(!(E.expirationTime>te)||z&&!_r());){var b=E.callback;if(typeof b=="function"){E.callback=null,S=E.priorityLevel;var M=b(E.expirationTime<=te);te=s.unstable_now(),typeof M=="function"?E.callback=M:E===n(g)&&o(g),x(te)}else o(g);E=n(g)}if(E!==null)var ie=!0;else{var ae=n(y);ae!==null&&je(I,ae.startTime-te),ie=!1}return ie}finally{E=null,S=q,C=!1}}var K=!1,ne=null,Oe=-1,Le=5,zt=-1;function _r(){return!(s.unstable_now()-zt<Le)}function It(){if(ne!==null){var z=s.unstable_now();zt=z;var te=!0;try{te=ne(!0,z)}finally{te?at():(K=!1,ne=null)}}else K=!1}var at;if(typeof A=="function")at=function(){A(It)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,$t=St.port2;St.port1.onmessage=It,at=function(){$t.postMessage(null)}}else at=function(){P(It,0)};function et(z){ne=z,K||(K=!0,at())}function je(z,te){Oe=P(function(){z(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_continueExecution=function(){O||C||(O=!0,et(J))},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_getFirstCallbackNode=function(){return n(g)},s.unstable_next=function(z){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var q=S;S=te;try{return z()}finally{S=q}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=S;S=z;try{return te()}finally{S=q}},s.unstable_scheduleCallback=function(z,te,q){var b=s.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?b+q:b):q=b,z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=q+M,z={id:_++,callback:te,priorityLevel:z,startTime:q,expirationTime:M,sortIndex:-1},q>b?(z.sortIndex=q,r(y,z),n(g)===null&&z===n(y)&&(N?(U(Oe),Oe=-1):N=!0,je(I,q-b))):(z.sortIndex=M,r(g,z),O||C||(O=!0,et(J))),z},s.unstable_shouldYield=_r,s.unstable_wrapCallback=function(z){var te=S;return function(){var q=S;S=te;try{return z.apply(this,arguments)}finally{S=q}}}})(Xa)),Xa}var Ad;function qp(){return Ad||(Ad=1,Ya.exports=Fp()),Ya.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function Vp(){if(Id)return ot;Id=1;var s=Sl(),r=qp();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function S(e){return g.call(E,e)?!0:g.call(_,e)?!1:y.test(e)?E[e]=!0:(_[e]=!0,!1)}function C(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,i,a){if(t===null||typeof t>"u"||C(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,i,a,u,d,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=p}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,A);P[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,A);P[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,A);P[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function x(e,t,i,a){var u=P.hasOwnProperty(t)?P[t]:null;(u!==null?u.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,i,u,a)&&(i=null),a||u===null?S(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(t=u.attributeName,a=u.attributeNamespace,i===null?e.removeAttribute(t):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var I=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),K=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),Oe=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),zt=Symbol.for("react.provider"),_r=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),$t=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),z=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,b;function M(e){if(b===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var ie=!1;function ae(e,t){if(!e||ie)return"";ie=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(R){var a=R}Reflect.construct(e,[],t)}else{try{t.call()}catch(R){a=R}e.call(t.prototype)}else{try{throw Error()}catch(R){a=R}e()}}catch(R){if(R&&a&&typeof R.stack=="string"){for(var u=R.stack.split(`
`),d=a.stack.split(`
`),p=u.length-1,v=d.length-1;1<=p&&0<=v&&u[p]!==d[v];)v--;for(;1<=p&&0<=v;p--,v--)if(u[p]!==d[v]){if(p!==1||v!==1)do if(p--,v--,0>v||u[p]!==d[v]){var w=`
`+u[p].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=p&&0<=v);break}}}finally{ie=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?M(e):""}function ue(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=ae(e.type,!1),e;case 11:return e=ae(e.type.render,!1),e;case 1:return e=ae(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case K:return"Portal";case Le:return"Profiler";case Oe:return"StrictMode";case at:return"Suspense";case St:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _r:return(e.displayName||"Context")+".Consumer";case zt:return(e._context.displayName||"Context")+".Provider";case It:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $t:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case et:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function me(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===Oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lt(e){var t=_e(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cs(e){e._valueTracker||(e._valueTracker=lt(e))}function Il(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=_e(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eo(e,t){var i=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function $l(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=he(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ml(e,t){t=t.checked,t!=null&&x(e,"checked",t,!1)}function to(e,t){Ml(e,t);var i=he(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ro(e,t.type,i):t.hasOwnProperty("defaultValue")&&ro(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dl(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function ro(e,t,i){(t!=="number"||Os(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Tn=Array.isArray;function zr(e,t,i,a){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+he(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function no(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ll(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(Tn(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:he(i)}}function Ul(e,t){var i=he(t.value),a=he(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function Wl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function so(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ns,Bl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,u){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var On={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bh=["Webkit","ms","Moz","O"];Object.keys(On).forEach(function(e){Bh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),On[t]=On[e]})});function Fl(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||On.hasOwnProperty(e)&&On[e]?(""+t).trim():t+"px"}function ql(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,u=Fl(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,u):e[i]=u}}var Fh=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(e,t){if(t){if(Fh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function oo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ao=null;function lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uo=null,Br=null,Fr=null;function Vl(e){if(e=Yn(e)){if(typeof uo!="function")throw Error(n(280));var t=e.stateNode;t&&(t=Zs(t),uo(e.stateNode,e.type,t))}}function Hl(e){Br?Fr?Fr.push(e):Fr=[e]:Br=e}function Kl(){if(Br){var e=Br,t=Fr;if(Fr=Br=null,Vl(e),t)for(e=0;e<t.length;e++)Vl(t[e])}}function Gl(e,t){return e(t)}function Jl(){}var co=!1;function Ql(e,t,i){if(co)return e(t,i);co=!0;try{return Gl(e,t,i)}finally{co=!1,(Br!==null||Fr!==null)&&(Jl(),Kl())}}function Nn(e,t){var i=e.stateNode;if(i===null)return null;var a=Zs(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var ho=!1;if(f)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{ho=!1}function qh(e,t,i,a,u,d,p,v,w){var R=Array.prototype.slice.call(arguments,3);try{t.apply(i,R)}catch(D){this.onError(D)}}var Pn=!1,Rs=null,Ps=!1,fo=null,Vh={onError:function(e){Pn=!0,Rs=e}};function Hh(e,t,i,a,u,d,p,v,w){Pn=!1,Rs=null,qh.apply(Vh,arguments)}function Kh(e,t,i,a,u,d,p,v,w){if(Hh.apply(this,arguments),Pn){if(Pn){var R=Rs;Pn=!1,Rs=null}else throw Error(n(198));Ps||(Ps=!0,fo=R)}}function kr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Yl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xl(e){if(kr(e)!==e)throw Error(n(188))}function Gh(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,a=t;;){var u=i.return;if(u===null)break;var d=u.alternate;if(d===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===i)return Xl(u),e;if(d===a)return Xl(u),t;d=d.sibling}throw Error(n(188))}if(i.return!==a.return)i=u,a=d;else{for(var p=!1,v=u.child;v;){if(v===i){p=!0,i=u,a=d;break}if(v===a){p=!0,a=u,i=d;break}v=v.sibling}if(!p){for(v=d.child;v;){if(v===i){p=!0,i=d,a=u;break}if(v===a){p=!0,a=d,i=u;break}v=v.sibling}if(!p)throw Error(n(189))}}if(i.alternate!==a)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function Zl(e){return e=Gh(e),e!==null?eu(e):null}function eu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=eu(e);if(t!==null)return t;e=e.sibling}return null}var tu=r.unstable_scheduleCallback,ru=r.unstable_cancelCallback,Jh=r.unstable_shouldYield,Qh=r.unstable_requestPaint,Ne=r.unstable_now,Yh=r.unstable_getCurrentPriorityLevel,po=r.unstable_ImmediatePriority,nu=r.unstable_UserBlockingPriority,As=r.unstable_NormalPriority,Xh=r.unstable_LowPriority,su=r.unstable_IdlePriority,Is=null,Mt=null;function Zh(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Is,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:rf,ef=Math.log,tf=Math.LN2;function rf(e){return e>>>=0,e===0?32:31-(ef(e)/tf|0)|0}var $s=64,Ms=4194304;function An(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ds(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,u=e.suspendedLanes,d=e.pingedLanes,p=i&268435455;if(p!==0){var v=p&~u;v!==0?a=An(v):(d&=p,d!==0&&(a=An(d)))}else p=i&~u,p!==0?a=An(p):d!==0&&(a=An(d));if(a===0)return 0;if(t!==0&&t!==a&&(t&u)===0&&(u=a&-a,d=t&-t,u>=d||u===16&&(d&4194240)!==0))return t;if((a&4)!==0&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-xt(t),u=1<<i,a|=e[i],t&=~u;return a}function nf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sf(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-xt(d),v=1<<p,w=u[p];w===-1?((v&i)===0||(v&a)!==0)&&(u[p]=nf(v,t)):w<=t&&(e.expiredLanes|=v),d&=~v}}function mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function iu(){var e=$s;return $s<<=1,($s&4194240)===0&&($s=64),e}function go(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function In(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=i}function of(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-xt(i),d=1<<u;t[u]=0,a[u]=-1,e[u]=-1,i&=~d}}function yo(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-xt(i),u=1<<a;u&t|e[a]&t&&(e[a]|=t),i&=~u}}var fe=0;function ou(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var au,vo,lu,uu,cu,wo=!1,Ls=[],Xt=null,Zt=null,er=null,$n=new Map,Mn=new Map,tr=[],af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function du(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":$n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(t.pointerId)}}function Dn(e,t,i,a,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Yn(t),t!==null&&vo(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function lf(e,t,i,a,u){switch(t){case"focusin":return Xt=Dn(Xt,e,t,i,a,u),!0;case"dragenter":return Zt=Dn(Zt,e,t,i,a,u),!0;case"mouseover":return er=Dn(er,e,t,i,a,u),!0;case"pointerover":var d=u.pointerId;return $n.set(d,Dn($n.get(d)||null,e,t,i,a,u)),!0;case"gotpointercapture":return d=u.pointerId,Mn.set(d,Dn(Mn.get(d)||null,e,t,i,a,u)),!0}return!1}function hu(e){var t=Sr(e.target);if(t!==null){var i=kr(t);if(i!==null){if(t=i.tag,t===13){if(t=Yl(i),t!==null){e.blockedOn=t,cu(e.priority,function(){lu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=ko(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);ao=a,i.target.dispatchEvent(a),ao=null}else return t=Yn(i),t!==null&&vo(t),e.blockedOn=i,!1;t.shift()}return!0}function fu(e,t,i){Us(e)&&i.delete(t)}function uf(){wo=!1,Xt!==null&&Us(Xt)&&(Xt=null),Zt!==null&&Us(Zt)&&(Zt=null),er!==null&&Us(er)&&(er=null),$n.forEach(fu),Mn.forEach(fu)}function Ln(e,t){e.blockedOn===t&&(e.blockedOn=null,wo||(wo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uf)))}function Un(e){function t(u){return Ln(u,e)}if(0<Ls.length){Ln(Ls[0],e);for(var i=1;i<Ls.length;i++){var a=Ls[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Xt!==null&&Ln(Xt,e),Zt!==null&&Ln(Zt,e),er!==null&&Ln(er,e),$n.forEach(t),Mn.forEach(t),i=0;i<tr.length;i++)a=tr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<tr.length&&(i=tr[0],i.blockedOn===null);)hu(i),i.blockedOn===null&&tr.shift()}var qr=I.ReactCurrentBatchConfig,Ws=!0;function cf(e,t,i,a){var u=fe,d=qr.transition;qr.transition=null;try{fe=1,_o(e,t,i,a)}finally{fe=u,qr.transition=d}}function df(e,t,i,a){var u=fe,d=qr.transition;qr.transition=null;try{fe=4,_o(e,t,i,a)}finally{fe=u,qr.transition=d}}function _o(e,t,i,a){if(Ws){var u=ko(e,t,i,a);if(u===null)Lo(e,t,a,zs,i),du(e,a);else if(lf(u,e,t,i,a))a.stopPropagation();else if(du(e,a),t&4&&-1<af.indexOf(e)){for(;u!==null;){var d=Yn(u);if(d!==null&&au(d),d=ko(e,t,i,a),d===null&&Lo(e,t,a,zs,i),d===u)break;u=d}u!==null&&a.stopPropagation()}else Lo(e,t,a,null,i)}}var zs=null;function ko(e,t,i,a){if(zs=null,e=lo(a),e=Sr(e),e!==null)if(t=kr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Yl(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zs=e,null}function pu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yh()){case po:return 1;case nu:return 4;case As:case Xh:return 16;case su:return 536870912;default:return 16}default:return 16}}var rr=null,So=null,Bs=null;function mu(){if(Bs)return Bs;var e,t=So,i=t.length,a,u="value"in rr?rr.value:rr.textContent,d=u.length;for(e=0;e<i&&t[e]===u[e];e++);var p=i-e;for(a=1;a<=p&&t[i-a]===u[d-a];a++);return Bs=u.slice(e,1<a?1-a:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qs(){return!0}function gu(){return!1}function ut(e){function t(i,a,u,d,p){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qs:gu,this.isPropagationStopped=gu,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=ut(Vr),Wn=q({},Vr,{view:0,detail:0}),hf=ut(Wn),Eo,bo,zn,Vs=q({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zn&&(zn&&e.type==="mousemove"?(Eo=e.screenX-zn.screenX,bo=e.screenY-zn.screenY):bo=Eo=0,zn=e),Eo)},movementY:function(e){return"movementY"in e?e.movementY:bo}}),yu=ut(Vs),ff=q({},Vs,{dataTransfer:0}),pf=ut(ff),mf=q({},Wn,{relatedTarget:0}),jo=ut(mf),gf=q({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),yf=ut(gf),vf=q({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wf=ut(vf),_f=q({},Vr,{data:0}),vu=ut(_f),kf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ef(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xf[e])?!!t[e]:!1}function To(){return Ef}var bf=q({},Wn,{key:function(e){if(e.key){var t=kf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jf=ut(bf),Tf=q({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wu=ut(Tf),Cf=q({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),Of=ut(Cf),Nf=q({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rf=ut(Nf),Pf=q({},Vs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Af=ut(Pf),If=[9,13,27,32],Co=f&&"CompositionEvent"in window,Bn=null;f&&"documentMode"in document&&(Bn=document.documentMode);var $f=f&&"TextEvent"in window&&!Bn,_u=f&&(!Co||Bn&&8<Bn&&11>=Bn),ku=" ",Su=!1;function xu(e,t){switch(e){case"keyup":return If.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hr=!1;function Mf(e,t){switch(e){case"compositionend":return Eu(t);case"keypress":return t.which!==32?null:(Su=!0,ku);case"textInput":return e=t.data,e===ku&&Su?null:e;default:return null}}function Df(e,t){if(Hr)return e==="compositionend"||!Co&&xu(e,t)?(e=mu(),Bs=So=rr=null,Hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _u&&t.locale!=="ko"?null:t.data;default:return null}}var Lf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lf[e.type]:t==="textarea"}function ju(e,t,i,a){Hl(a),t=Qs(t,"onChange"),0<t.length&&(i=new xo("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Fn=null,qn=null;function Uf(e){qu(e,0)}function Hs(e){var t=Yr(e);if(Il(t))return e}function Wf(e,t){if(e==="change")return t}var Tu=!1;if(f){var Oo;if(f){var No="oninput"in document;if(!No){var Cu=document.createElement("div");Cu.setAttribute("oninput","return;"),No=typeof Cu.oninput=="function"}Oo=No}else Oo=!1;Tu=Oo&&(!document.documentMode||9<document.documentMode)}function Ou(){Fn&&(Fn.detachEvent("onpropertychange",Nu),qn=Fn=null)}function Nu(e){if(e.propertyName==="value"&&Hs(qn)){var t=[];ju(t,qn,e,lo(e)),Ql(Uf,t)}}function zf(e,t,i){e==="focusin"?(Ou(),Fn=t,qn=i,Fn.attachEvent("onpropertychange",Nu)):e==="focusout"&&Ou()}function Bf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hs(qn)}function Ff(e,t){if(e==="click")return Hs(t)}function qf(e,t){if(e==="input"||e==="change")return Hs(t)}function Vf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Vf;function Vn(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!g.call(t,u)||!Et(e[u],t[u]))return!1}return!0}function Ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pu(e,t){var i=Ru(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ru(i)}}function Au(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Au(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Iu(){for(var e=window,t=Os();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Os(e.document)}return t}function Ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hf(e){var t=Iu(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Au(i.ownerDocument.documentElement,i)){if(a!==null&&Ro(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,d=Math.min(a.start,u);a=a.end===void 0?d:Math.min(a.end,u),!e.extend&&d>a&&(u=a,a=d,d=u),u=Pu(i,d);var p=Pu(i,a);u&&p&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kf=f&&"documentMode"in document&&11>=document.documentMode,Kr=null,Po=null,Hn=null,Ao=!1;function $u(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ao||Kr==null||Kr!==Os(a)||(a=Kr,"selectionStart"in a&&Ro(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Hn&&Vn(Hn,a)||(Hn=a,a=Qs(Po,"onSelect"),0<a.length&&(t=new xo("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Kr)))}function Ks(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Gr={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionend:Ks("Transition","TransitionEnd")},Io={},Mu={};f&&(Mu=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Gs(e){if(Io[e])return Io[e];if(!Gr[e])return e;var t=Gr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Mu)return Io[e]=t[i];return e}var Du=Gs("animationend"),Lu=Gs("animationiteration"),Uu=Gs("animationstart"),Wu=Gs("transitionend"),zu=new Map,Bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){zu.set(e,t),c(t,[e])}for(var $o=0;$o<Bu.length;$o++){var Mo=Bu[$o],Gf=Mo.toLowerCase(),Jf=Mo[0].toUpperCase()+Mo.slice(1);nr(Gf,"on"+Jf)}nr(Du,"onAnimationEnd"),nr(Lu,"onAnimationIteration"),nr(Uu,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(Wu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kn));function Fu(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Kh(a,t,void 0,e),e.currentTarget=null}function qu(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var p=a.length-1;0<=p;p--){var v=a[p],w=v.instance,R=v.currentTarget;if(v=v.listener,w!==d&&u.isPropagationStopped())break e;Fu(u,v,R),d=w}else for(p=0;p<a.length;p++){if(v=a[p],w=v.instance,R=v.currentTarget,v=v.listener,w!==d&&u.isPropagationStopped())break e;Fu(u,v,R),d=w}}}if(Ps)throw e=fo,Ps=!1,fo=null,e}function ve(e,t){var i=t[qo];i===void 0&&(i=t[qo]=new Set);var a=e+"__bubble";i.has(a)||(Vu(t,e,2,!1),i.add(a))}function Do(e,t,i){var a=0;t&&(a|=4),Vu(i,e,a,t)}var Js="_reactListening"+Math.random().toString(36).slice(2);function Gn(e){if(!e[Js]){e[Js]=!0,o.forEach(function(i){i!=="selectionchange"&&(Qf.has(i)||Do(i,!1,e),Do(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Js]||(t[Js]=!0,Do("selectionchange",!1,t))}}function Vu(e,t,i,a){switch(pu(t)){case 1:var u=cf;break;case 4:u=df;break;default:u=_o}i=u.bind(null,t,i,e),u=void 0,!ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Lo(e,t,i,a,u){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var v=a.stateNode.containerInfo;if(v===u||v.nodeType===8&&v.parentNode===u)break;if(p===4)for(p=a.return;p!==null;){var w=p.tag;if((w===3||w===4)&&(w=p.stateNode.containerInfo,w===u||w.nodeType===8&&w.parentNode===u))return;p=p.return}for(;v!==null;){if(p=Sr(v),p===null)return;if(w=p.tag,w===5||w===6){a=d=p;continue e}v=v.parentNode}}a=a.return}Ql(function(){var R=d,D=lo(i),L=[];e:{var $=zu.get(e);if($!==void 0){var B=xo,V=e;switch(e){case"keypress":if(Fs(i)===0)break e;case"keydown":case"keyup":B=jf;break;case"focusin":V="focus",B=jo;break;case"focusout":V="blur",B=jo;break;case"beforeblur":case"afterblur":B=jo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Of;break;case Du:case Lu:case Uu:B=yf;break;case Wu:B=Rf;break;case"scroll":B=hf;break;case"wheel":B=Af;break;case"copy":case"cut":case"paste":B=wf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=wu}var H=(t&4)!==0,Re=!H&&e==="scroll",j=H?$!==null?$+"Capture":null:$;H=[];for(var k=R,T;k!==null;){T=k;var W=T.stateNode;if(T.tag===5&&W!==null&&(T=W,j!==null&&(W=Nn(k,j),W!=null&&H.push(Jn(k,W,T)))),Re)break;k=k.return}0<H.length&&($=new B($,V,null,i,D),L.push({event:$,listeners:H}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",$&&i!==ao&&(V=i.relatedTarget||i.fromElement)&&(Sr(V)||V[Bt]))break e;if((B||$)&&($=D.window===D?D:($=D.ownerDocument)?$.defaultView||$.parentWindow:window,B?(V=i.relatedTarget||i.toElement,B=R,V=V?Sr(V):null,V!==null&&(Re=kr(V),V!==Re||V.tag!==5&&V.tag!==6)&&(V=null)):(B=null,V=R),B!==V)){if(H=yu,W="onMouseLeave",j="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(H=wu,W="onPointerLeave",j="onPointerEnter",k="pointer"),Re=B==null?$:Yr(B),T=V==null?$:Yr(V),$=new H(W,k+"leave",B,i,D),$.target=Re,$.relatedTarget=T,W=null,Sr(D)===R&&(H=new H(j,k+"enter",V,i,D),H.target=T,H.relatedTarget=Re,W=H),Re=W,B&&V)t:{for(H=B,j=V,k=0,T=H;T;T=Jr(T))k++;for(T=0,W=j;W;W=Jr(W))T++;for(;0<k-T;)H=Jr(H),k--;for(;0<T-k;)j=Jr(j),T--;for(;k--;){if(H===j||j!==null&&H===j.alternate)break t;H=Jr(H),j=Jr(j)}H=null}else H=null;B!==null&&Hu(L,$,B,H,!1),V!==null&&Re!==null&&Hu(L,Re,V,H,!0)}}e:{if($=R?Yr(R):window,B=$.nodeName&&$.nodeName.toLowerCase(),B==="select"||B==="input"&&$.type==="file")var G=Wf;else if(bu($))if(Tu)G=qf;else{G=Bf;var Y=zf}else(B=$.nodeName)&&B.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(G=Ff);if(G&&(G=G(e,R))){ju(L,G,i,D);break e}Y&&Y(e,$,R),e==="focusout"&&(Y=$._wrapperState)&&Y.controlled&&$.type==="number"&&ro($,"number",$.value)}switch(Y=R?Yr(R):window,e){case"focusin":(bu(Y)||Y.contentEditable==="true")&&(Kr=Y,Po=R,Hn=null);break;case"focusout":Hn=Po=Kr=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,$u(L,i,D);break;case"selectionchange":if(Kf)break;case"keydown":case"keyup":$u(L,i,D)}var X;if(Co)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Hr?xu(e,i)&&(re="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(re="onCompositionStart");re&&(_u&&i.locale!=="ko"&&(Hr||re!=="onCompositionStart"?re==="onCompositionEnd"&&Hr&&(X=mu()):(rr=D,So="value"in rr?rr.value:rr.textContent,Hr=!0)),Y=Qs(R,re),0<Y.length&&(re=new vu(re,e,null,i,D),L.push({event:re,listeners:Y}),X?re.data=X:(X=Eu(i),X!==null&&(re.data=X)))),(X=$f?Mf(e,i):Df(e,i))&&(R=Qs(R,"onBeforeInput"),0<R.length&&(D=new vu("onBeforeInput","beforeinput",null,i,D),L.push({event:D,listeners:R}),D.data=X))}qu(L,t)})}function Jn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Qs(e,t){for(var i=t+"Capture",a=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Nn(e,i),d!=null&&a.unshift(Jn(e,d,u)),d=Nn(e,t),d!=null&&a.push(Jn(e,d,u))),e=e.return}return a}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hu(e,t,i,a,u){for(var d=t._reactName,p=[];i!==null&&i!==a;){var v=i,w=v.alternate,R=v.stateNode;if(w!==null&&w===a)break;v.tag===5&&R!==null&&(v=R,u?(w=Nn(i,d),w!=null&&p.unshift(Jn(i,w,v))):u||(w=Nn(i,d),w!=null&&p.push(Jn(i,w,v)))),i=i.return}p.length!==0&&e.push({event:t,listeners:p})}var Yf=/\r\n?/g,Xf=/\u0000|\uFFFD/g;function Ku(e){return(typeof e=="string"?e:""+e).replace(Yf,`
`).replace(Xf,"")}function Ys(e,t,i){if(t=Ku(t),Ku(e)!==t&&i)throw Error(n(425))}function Xs(){}var Uo=null,Wo=null;function zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bo=typeof setTimeout=="function"?setTimeout:void 0,Zf=typeof clearTimeout=="function"?clearTimeout:void 0,Gu=typeof Promise=="function"?Promise:void 0,ep=typeof queueMicrotask=="function"?queueMicrotask:typeof Gu<"u"?function(e){return Gu.resolve(null).then(e).catch(tp)}:Bo;function tp(e){setTimeout(function(){throw e})}function Fo(e,t){var i=t,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(a===0){e.removeChild(u),Un(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=u}while(i);Un(t)}function sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ju(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Qr,Qn="__reactProps$"+Qr,Bt="__reactContainer$"+Qr,qo="__reactEvents$"+Qr,rp="__reactListeners$"+Qr,np="__reactHandles$"+Qr;function Sr(e){var t=e[Dt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Bt]||i[Dt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Ju(e);e!==null;){if(i=e[Dt])return i;e=Ju(e)}return t}e=i,i=e.parentNode}return null}function Yn(e){return e=e[Dt]||e[Bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Zs(e){return e[Qn]||null}var Vo=[],Xr=-1;function ir(e){return{current:e}}function we(e){0>Xr||(e.current=Vo[Xr],Vo[Xr]=null,Xr--)}function ge(e,t){Xr++,Vo[Xr]=e.current,e.current=t}var or={},Ke=ir(or),tt=ir(!1),xr=or;function Zr(e,t){var i=e.type.contextTypes;if(!i)return or;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in i)u[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function rt(e){return e=e.childContextTypes,e!=null}function ei(){we(tt),we(Ke)}function Qu(e,t,i){if(Ke.current!==or)throw Error(n(168));ge(Ke,t),ge(tt,i)}function Yu(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var u in a)if(!(u in t))throw Error(n(108,me(e)||"Unknown",u));return q({},i,a)}function ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||or,xr=Ke.current,ge(Ke,e),ge(tt,tt.current),!0}function Xu(e,t,i){var a=e.stateNode;if(!a)throw Error(n(169));i?(e=Yu(e,t,xr),a.__reactInternalMemoizedMergedChildContext=e,we(tt),we(Ke),ge(Ke,e)):we(tt),ge(tt,i)}var Ft=null,ri=!1,Ho=!1;function Zu(e){Ft===null?Ft=[e]:Ft.push(e)}function sp(e){ri=!0,Zu(e)}function ar(){if(!Ho&&Ft!==null){Ho=!0;var e=0,t=fe;try{var i=Ft;for(fe=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Ft=null,ri=!1}catch(u){throw Ft!==null&&(Ft=Ft.slice(e+1)),tu(po,ar),u}finally{fe=t,Ho=!1}}return null}var en=[],tn=0,ni=null,si=0,gt=[],yt=0,Er=null,qt=1,Vt="";function br(e,t){en[tn++]=si,en[tn++]=ni,ni=e,si=t}function ec(e,t,i){gt[yt++]=qt,gt[yt++]=Vt,gt[yt++]=Er,Er=e;var a=qt;e=Vt;var u=32-xt(a)-1;a&=~(1<<u),i+=1;var d=32-xt(t)+u;if(30<d){var p=u-u%5;d=(a&(1<<p)-1).toString(32),a>>=p,u-=p,qt=1<<32-xt(t)+u|i<<u|a,Vt=d+e}else qt=1<<d|i<<u|a,Vt=e}function Ko(e){e.return!==null&&(br(e,1),ec(e,1,0))}function Go(e){for(;e===ni;)ni=en[--tn],en[tn]=null,si=en[--tn],en[tn]=null;for(;e===Er;)Er=gt[--yt],gt[yt]=null,Vt=gt[--yt],gt[yt]=null,qt=gt[--yt],gt[yt]=null}var ct=null,dt=null,ke=!1,bt=null;function tc(e,t){var i=kt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function rc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,dt=sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Er!==null?{id:qt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=kt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,ct=e,dt=null,!0):!1;default:return!1}}function Jo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qo(e){if(ke){var t=dt;if(t){var i=t;if(!rc(e,t)){if(Jo(e))throw Error(n(418));t=sr(i.nextSibling);var a=ct;t&&rc(e,t)?tc(a,i):(e.flags=e.flags&-4097|2,ke=!1,ct=e)}}else{if(Jo(e))throw Error(n(418));e.flags=e.flags&-4097|2,ke=!1,ct=e}}}function nc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function ii(e){if(e!==ct)return!1;if(!ke)return nc(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zo(e.type,e.memoizedProps)),t&&(t=dt)){if(Jo(e))throw sc(),Error(n(418));for(;t;)tc(e,t),t=sr(t.nextSibling)}if(nc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){dt=sr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ct?sr(e.stateNode.nextSibling):null;return!0}function sc(){for(var e=dt;e;)e=sr(e.nextSibling)}function rn(){dt=ct=null,ke=!1}function Yo(e){bt===null?bt=[e]:bt.push(e)}var ip=I.ReactCurrentBatchConfig;function Xn(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var a=i.stateNode}if(!a)throw Error(n(147,e));var u=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(p){var v=u.refs;p===null?delete v[d]:v[d]=p},t._stringRef=d,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function oi(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ic(e){var t=e._init;return t(e._payload)}function oc(e){function t(j,k){if(e){var T=j.deletions;T===null?(j.deletions=[k],j.flags|=16):T.push(k)}}function i(j,k){if(!e)return null;for(;k!==null;)t(j,k),k=k.sibling;return null}function a(j,k){for(j=new Map;k!==null;)k.key!==null?j.set(k.key,k):j.set(k.index,k),k=k.sibling;return j}function u(j,k){return j=mr(j,k),j.index=0,j.sibling=null,j}function d(j,k,T){return j.index=T,e?(T=j.alternate,T!==null?(T=T.index,T<k?(j.flags|=2,k):T):(j.flags|=2,k)):(j.flags|=1048576,k)}function p(j){return e&&j.alternate===null&&(j.flags|=2),j}function v(j,k,T,W){return k===null||k.tag!==6?(k=Ba(T,j.mode,W),k.return=j,k):(k=u(k,T),k.return=j,k)}function w(j,k,T,W){var G=T.type;return G===ne?D(j,k,T.props.children,W,T.key):k!==null&&(k.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===et&&ic(G)===k.type)?(W=u(k,T.props),W.ref=Xn(j,k,T),W.return=j,W):(W=Ni(T.type,T.key,T.props,null,j.mode,W),W.ref=Xn(j,k,T),W.return=j,W)}function R(j,k,T,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==T.containerInfo||k.stateNode.implementation!==T.implementation?(k=Fa(T,j.mode,W),k.return=j,k):(k=u(k,T.children||[]),k.return=j,k)}function D(j,k,T,W,G){return k===null||k.tag!==7?(k=Ar(T,j.mode,W,G),k.return=j,k):(k=u(k,T),k.return=j,k)}function L(j,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Ba(""+k,j.mode,T),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case J:return T=Ni(k.type,k.key,k.props,null,j.mode,T),T.ref=Xn(j,null,k),T.return=j,T;case K:return k=Fa(k,j.mode,T),k.return=j,k;case et:var W=k._init;return L(j,W(k._payload),T)}if(Tn(k)||te(k))return k=Ar(k,j.mode,T,null),k.return=j,k;oi(j,k)}return null}function $(j,k,T,W){var G=k!==null?k.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return G!==null?null:v(j,k,""+T,W);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case J:return T.key===G?w(j,k,T,W):null;case K:return T.key===G?R(j,k,T,W):null;case et:return G=T._init,$(j,k,G(T._payload),W)}if(Tn(T)||te(T))return G!==null?null:D(j,k,T,W,null);oi(j,T)}return null}function B(j,k,T,W,G){if(typeof W=="string"&&W!==""||typeof W=="number")return j=j.get(T)||null,v(k,j,""+W,G);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case J:return j=j.get(W.key===null?T:W.key)||null,w(k,j,W,G);case K:return j=j.get(W.key===null?T:W.key)||null,R(k,j,W,G);case et:var Y=W._init;return B(j,k,T,Y(W._payload),G)}if(Tn(W)||te(W))return j=j.get(T)||null,D(k,j,W,G,null);oi(k,W)}return null}function V(j,k,T,W){for(var G=null,Y=null,X=k,re=k=0,ze=null;X!==null&&re<T.length;re++){X.index>re?(ze=X,X=null):ze=X.sibling;var de=$(j,X,T[re],W);if(de===null){X===null&&(X=ze);break}e&&X&&de.alternate===null&&t(j,X),k=d(de,k,re),Y===null?G=de:Y.sibling=de,Y=de,X=ze}if(re===T.length)return i(j,X),ke&&br(j,re),G;if(X===null){for(;re<T.length;re++)X=L(j,T[re],W),X!==null&&(k=d(X,k,re),Y===null?G=X:Y.sibling=X,Y=X);return ke&&br(j,re),G}for(X=a(j,X);re<T.length;re++)ze=B(X,j,re,T[re],W),ze!==null&&(e&&ze.alternate!==null&&X.delete(ze.key===null?re:ze.key),k=d(ze,k,re),Y===null?G=ze:Y.sibling=ze,Y=ze);return e&&X.forEach(function(gr){return t(j,gr)}),ke&&br(j,re),G}function H(j,k,T,W){var G=te(T);if(typeof G!="function")throw Error(n(150));if(T=G.call(T),T==null)throw Error(n(151));for(var Y=G=null,X=k,re=k=0,ze=null,de=T.next();X!==null&&!de.done;re++,de=T.next()){X.index>re?(ze=X,X=null):ze=X.sibling;var gr=$(j,X,de.value,W);if(gr===null){X===null&&(X=ze);break}e&&X&&gr.alternate===null&&t(j,X),k=d(gr,k,re),Y===null?G=gr:Y.sibling=gr,Y=gr,X=ze}if(de.done)return i(j,X),ke&&br(j,re),G;if(X===null){for(;!de.done;re++,de=T.next())de=L(j,de.value,W),de!==null&&(k=d(de,k,re),Y===null?G=de:Y.sibling=de,Y=de);return ke&&br(j,re),G}for(X=a(j,X);!de.done;re++,de=T.next())de=B(X,j,re,de.value,W),de!==null&&(e&&de.alternate!==null&&X.delete(de.key===null?re:de.key),k=d(de,k,re),Y===null?G=de:Y.sibling=de,Y=de);return e&&X.forEach(function(Lp){return t(j,Lp)}),ke&&br(j,re),G}function Re(j,k,T,W){if(typeof T=="object"&&T!==null&&T.type===ne&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case J:e:{for(var G=T.key,Y=k;Y!==null;){if(Y.key===G){if(G=T.type,G===ne){if(Y.tag===7){i(j,Y.sibling),k=u(Y,T.props.children),k.return=j,j=k;break e}}else if(Y.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===et&&ic(G)===Y.type){i(j,Y.sibling),k=u(Y,T.props),k.ref=Xn(j,Y,T),k.return=j,j=k;break e}i(j,Y);break}else t(j,Y);Y=Y.sibling}T.type===ne?(k=Ar(T.props.children,j.mode,W,T.key),k.return=j,j=k):(W=Ni(T.type,T.key,T.props,null,j.mode,W),W.ref=Xn(j,k,T),W.return=j,j=W)}return p(j);case K:e:{for(Y=T.key;k!==null;){if(k.key===Y)if(k.tag===4&&k.stateNode.containerInfo===T.containerInfo&&k.stateNode.implementation===T.implementation){i(j,k.sibling),k=u(k,T.children||[]),k.return=j,j=k;break e}else{i(j,k);break}else t(j,k);k=k.sibling}k=Fa(T,j.mode,W),k.return=j,j=k}return p(j);case et:return Y=T._init,Re(j,k,Y(T._payload),W)}if(Tn(T))return V(j,k,T,W);if(te(T))return H(j,k,T,W);oi(j,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,k!==null&&k.tag===6?(i(j,k.sibling),k=u(k,T),k.return=j,j=k):(i(j,k),k=Ba(T,j.mode,W),k.return=j,j=k),p(j)):i(j,k)}return Re}var nn=oc(!0),ac=oc(!1),ai=ir(null),li=null,sn=null,Xo=null;function Zo(){Xo=sn=li=null}function ea(e){var t=ai.current;we(ai),e._currentValue=t}function ta(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function on(e,t){li=e,Xo=sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(nt=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(Xo!==e)if(e={context:e,memoizedValue:t,next:null},sn===null){if(li===null)throw Error(n(308));sn=e,li.dependencies={lanes:0,firstContext:e}}else sn=sn.next=e;return t}var jr=null;function ra(e){jr===null?jr=[e]:jr.push(e)}function lc(e,t,i,a){var u=t.interleaved;return u===null?(i.next=i,ra(t)):(i.next=u.next,u.next=i),t.interleaved=i,Ht(e,a)}function Ht(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var lr=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ur(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(le&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,Ht(e,i)}return u=a.interleaved,u===null?(t.next=t,ra(a)):(t.next=u.next,u.next=t),a.interleaved=t,Ht(e,i)}function ui(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,yo(e,i)}}function cc(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var p={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?u=d=p:d=d.next=p,i=i.next}while(i!==null);d===null?u=d=t:d=d.next=t}else u=d=t;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ci(e,t,i,a){var u=e.updateQueue;lr=!1;var d=u.firstBaseUpdate,p=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var w=v,R=w.next;w.next=null,p===null?d=R:p.next=R,p=w;var D=e.alternate;D!==null&&(D=D.updateQueue,v=D.lastBaseUpdate,v!==p&&(v===null?D.firstBaseUpdate=R:v.next=R,D.lastBaseUpdate=w))}if(d!==null){var L=u.baseState;p=0,D=R=w=null,v=d;do{var $=v.lane,B=v.eventTime;if((a&$)===$){D!==null&&(D=D.next={eventTime:B,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var V=e,H=v;switch($=t,B=i,H.tag){case 1:if(V=H.payload,typeof V=="function"){L=V.call(B,L,$);break e}L=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=H.payload,$=typeof V=="function"?V.call(B,L,$):V,$==null)break e;L=q({},L,$);break e;case 2:lr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,$=u.effects,$===null?u.effects=[v]:$.push(v))}else B={eventTime:B,lane:$,tag:v.tag,payload:v.payload,callback:v.callback,next:null},D===null?(R=D=B,w=L):D=D.next=B,p|=$;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;$=v,v=$.next,$.next=null,u.lastBaseUpdate=$,u.shared.pending=null}}while(!0);if(D===null&&(w=L),u.baseState=w,u.firstBaseUpdate=R,u.lastBaseUpdate=D,t=u.shared.interleaved,t!==null){u=t;do p|=u.lane,u=u.next;while(u!==t)}else d===null&&(u.shared.lanes=0);Or|=p,e.lanes=p,e.memoizedState=L}}function dc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],u=a.callback;if(u!==null){if(a.callback=null,a=i,typeof u!="function")throw Error(n(191,u));u.call(a)}}}var Zn={},Lt=ir(Zn),es=ir(Zn),ts=ir(Zn);function Tr(e){if(e===Zn)throw Error(n(174));return e}function sa(e,t){switch(ge(ts,t),ge(es,e),ge(Lt,Zn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:so(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=so(t,e)}we(Lt),ge(Lt,t)}function an(){we(Lt),we(es),we(ts)}function hc(e){Tr(ts.current);var t=Tr(Lt.current),i=so(t,e.type);t!==i&&(ge(es,e),ge(Lt,i))}function ia(e){es.current===e&&(we(Lt),we(es))}var Se=ir(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oa=[];function aa(){for(var e=0;e<oa.length;e++)oa[e]._workInProgressVersionPrimary=null;oa.length=0}var hi=I.ReactCurrentDispatcher,la=I.ReactCurrentBatchConfig,Cr=0,xe=null,$e=null,Ue=null,fi=!1,rs=!1,ns=0,op=0;function Ge(){throw Error(n(321))}function ua(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Et(e[i],t[i]))return!1;return!0}function ca(e,t,i,a,u,d){if(Cr=d,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hi.current=e===null||e.memoizedState===null?cp:dp,e=i(a,u),rs){d=0;do{if(rs=!1,ns=0,25<=d)throw Error(n(301));d+=1,Ue=$e=null,t.updateQueue=null,hi.current=hp,e=i(a,u)}while(rs)}if(hi.current=gi,t=$e!==null&&$e.next!==null,Cr=0,Ue=$e=xe=null,fi=!1,t)throw Error(n(300));return e}function da(){var e=ns!==0;return ns=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?xe.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function wt(){if($e===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Ue===null?xe.memoizedState:Ue.next;if(t!==null)Ue=t,$e=e;else{if(e===null)throw Error(n(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ue===null?xe.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function ss(e,t){return typeof t=="function"?t(e):t}function ha(e){var t=wt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var a=$e,u=a.baseQueue,d=i.pending;if(d!==null){if(u!==null){var p=u.next;u.next=d.next,d.next=p}a.baseQueue=u=d,i.pending=null}if(u!==null){d=u.next,a=a.baseState;var v=p=null,w=null,R=d;do{var D=R.lane;if((Cr&D)===D)w!==null&&(w=w.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),a=R.hasEagerState?R.eagerState:e(a,R.action);else{var L={lane:D,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};w===null?(v=w=L,p=a):w=w.next=L,xe.lanes|=D,Or|=D}R=R.next}while(R!==null&&R!==d);w===null?p=a:w.next=v,Et(a,t.memoizedState)||(nt=!0),t.memoizedState=a,t.baseState=p,t.baseQueue=w,i.lastRenderedState=a}if(e=i.interleaved,e!==null){u=e;do d=u.lane,xe.lanes|=d,Or|=d,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function fa(e){var t=wt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,d=t.memoizedState;if(u!==null){i.pending=null;var p=u=u.next;do d=e(d,p.action),p=p.next;while(p!==u);Et(d,t.memoizedState)||(nt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,a]}function fc(){}function pc(e,t){var i=xe,a=wt(),u=t(),d=!Et(a.memoizedState,u);if(d&&(a.memoizedState=u,nt=!0),a=a.queue,pa(yc.bind(null,i,a,e),[e]),a.getSnapshot!==t||d||Ue!==null&&Ue.memoizedState.tag&1){if(i.flags|=2048,is(9,gc.bind(null,i,a,u,t),void 0,null),We===null)throw Error(n(349));(Cr&30)!==0||mc(i,t,u)}return u}function mc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function gc(e,t,i,a){t.value=i,t.getSnapshot=a,vc(t)&&wc(e)}function yc(e,t,i){return i(function(){vc(t)&&wc(e)})}function vc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Et(e,i)}catch{return!0}}function wc(e){var t=Ht(e,1);t!==null&&Ot(t,e,1,-1)}function _c(e){var t=Ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},t.queue=e,e=e.dispatch=up.bind(null,xe,e),[t.memoizedState,e]}function is(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function kc(){return wt().memoizedState}function pi(e,t,i,a){var u=Ut();xe.flags|=e,u.memoizedState=is(1|t,i,void 0,a===void 0?null:a)}function mi(e,t,i,a){var u=wt();a=a===void 0?null:a;var d=void 0;if($e!==null){var p=$e.memoizedState;if(d=p.destroy,a!==null&&ua(a,p.deps)){u.memoizedState=is(t,i,d,a);return}}xe.flags|=e,u.memoizedState=is(1|t,i,d,a)}function Sc(e,t){return pi(8390656,8,e,t)}function pa(e,t){return mi(2048,8,e,t)}function xc(e,t){return mi(4,2,e,t)}function Ec(e,t){return mi(4,4,e,t)}function bc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jc(e,t,i){return i=i!=null?i.concat([e]):null,mi(4,4,bc.bind(null,t,e),i)}function ma(){}function Tc(e,t){var i=wt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&ua(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Cc(e,t){var i=wt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&ua(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function Oc(e,t,i){return(Cr&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=i):(Et(i,t)||(i=iu(),xe.lanes|=i,Or|=i,e.baseState=!0),t)}function ap(e,t){var i=fe;fe=i!==0&&4>i?i:4,e(!0);var a=la.transition;la.transition={};try{e(!1),t()}finally{fe=i,la.transition=a}}function Nc(){return wt().memoizedState}function lp(e,t,i){var a=fr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Rc(e))Pc(t,i);else if(i=lc(e,t,i,a),i!==null){var u=Ze();Ot(i,e,a,u),Ac(i,t,a)}}function up(e,t,i){var a=fr(e),u={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Rc(e))Pc(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,v=d(p,i);if(u.hasEagerState=!0,u.eagerState=v,Et(v,p)){var w=t.interleaved;w===null?(u.next=u,ra(t)):(u.next=w.next,w.next=u),t.interleaved=u;return}}catch{}finally{}i=lc(e,t,u,a),i!==null&&(u=Ze(),Ot(i,e,a,u),Ac(i,t,a))}}function Rc(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Pc(e,t){rs=fi=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Ac(e,t,i){if((i&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,yo(e,i)}}var gi={readContext:vt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},cp={readContext:vt,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Sc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,pi(4194308,4,bc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return pi(4,2,e,t)},useMemo:function(e,t){var i=Ut();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=Ut();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=lp.bind(null,xe,e),[a.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:_c,useDebugValue:ma,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=_c(!1),t=e[0];return e=ap.bind(null,e[1]),Ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=xe,u=Ut();if(ke){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),We===null)throw Error(n(349));(Cr&30)!==0||mc(a,t,i)}u.memoizedState=i;var d={value:i,getSnapshot:t};return u.queue=d,Sc(yc.bind(null,a,d,e),[e]),a.flags|=2048,is(9,gc.bind(null,a,d,i,t),void 0,null),i},useId:function(){var e=Ut(),t=We.identifierPrefix;if(ke){var i=Vt,a=qt;i=(a&~(1<<32-xt(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=ns++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=op++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dp={readContext:vt,useCallback:Tc,useContext:vt,useEffect:pa,useImperativeHandle:jc,useInsertionEffect:xc,useLayoutEffect:Ec,useMemo:Cc,useReducer:ha,useRef:kc,useState:function(){return ha(ss)},useDebugValue:ma,useDeferredValue:function(e){var t=wt();return Oc(t,$e.memoizedState,e)},useTransition:function(){var e=ha(ss)[0],t=wt().memoizedState;return[e,t]},useMutableSource:fc,useSyncExternalStore:pc,useId:Nc,unstable_isNewReconciler:!1},hp={readContext:vt,useCallback:Tc,useContext:vt,useEffect:pa,useImperativeHandle:jc,useInsertionEffect:xc,useLayoutEffect:Ec,useMemo:Cc,useReducer:fa,useRef:kc,useState:function(){return fa(ss)},useDebugValue:ma,useDeferredValue:function(e){var t=wt();return $e===null?t.memoizedState=e:Oc(t,$e.memoizedState,e)},useTransition:function(){var e=fa(ss)[0],t=wt().memoizedState;return[e,t]},useMutableSource:fc,useSyncExternalStore:pc,useId:Nc,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function ga(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:q({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var yi={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Ze(),u=fr(e),d=Kt(a,u);d.payload=t,i!=null&&(d.callback=i),t=ur(e,d,u),t!==null&&(Ot(t,e,u,a),ui(t,e,u))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Ze(),u=fr(e),d=Kt(a,u);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=ur(e,d,u),t!==null&&(Ot(t,e,u,a),ui(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ze(),a=fr(e),u=Kt(i,a);u.tag=2,t!=null&&(u.callback=t),t=ur(e,u,a),t!==null&&(Ot(t,e,a,i),ui(t,e,a))}};function Ic(e,t,i,a,u,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,p):t.prototype&&t.prototype.isPureReactComponent?!Vn(i,a)||!Vn(u,d):!0}function $c(e,t,i){var a=!1,u=or,d=t.contextType;return typeof d=="object"&&d!==null?d=vt(d):(u=rt(t)?xr:Ke.current,a=t.contextTypes,d=(a=a!=null)?Zr(e,u):or),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),t}function Mc(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function ya(e,t,i,a){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},na(e);var d=t.contextType;typeof d=="object"&&d!==null?u.context=vt(d):(d=rt(t)?xr:Ke.current,u.context=Zr(e,d)),u.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(ga(e,t,d,i),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&yi.enqueueReplaceState(u,u.state,null),ci(e,i,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ln(e,t){try{var i="",a=t;do i+=ue(a),a=a.return;while(a);var u=i}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:u,digest:null}}function va(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function wa(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var fp=typeof WeakMap=="function"?WeakMap:Map;function Dc(e,t,i){i=Kt(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){Ei||(Ei=!0,Ia=a),wa(e,t)},i}function Lc(e,t,i){i=Kt(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=t.value;i.payload=function(){return a(u)},i.callback=function(){wa(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){wa(e,t),typeof a!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),i}function Uc(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new fp;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(i)||(u.add(i),e=Tp.bind(null,e,t,i),t.then(e,e))}function Wc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zc(e,t,i,a,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Kt(-1,1),t.tag=2,ur(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var pp=I.ReactCurrentOwner,nt=!1;function Xe(e,t,i,a){t.child=e===null?ac(t,null,i,a):nn(t,e.child,i,a)}function Bc(e,t,i,a,u){i=i.render;var d=t.ref;return on(t,u),a=ca(e,t,i,a,d,u),i=da(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Gt(e,t,u)):(ke&&i&&Ko(t),t.flags|=1,Xe(e,t,a,u),t.child)}function Fc(e,t,i,a,u){if(e===null){var d=i.type;return typeof d=="function"&&!za(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,qc(e,t,d,a,u)):(e=Ni(i.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&u)===0){var p=d.memoizedProps;if(i=i.compare,i=i!==null?i:Vn,i(p,a)&&e.ref===t.ref)return Gt(e,t,u)}return t.flags|=1,e=mr(d,a),e.ref=t.ref,e.return=t,t.child=e}function qc(e,t,i,a,u){if(e!==null){var d=e.memoizedProps;if(Vn(d,a)&&e.ref===t.ref)if(nt=!1,t.pendingProps=a=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Gt(e,t,u)}return _a(e,t,i,a,u)}function Vc(e,t,i){var a=t.pendingProps,u=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(cn,ht),ht|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(cn,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:i,ge(cn,ht),ht|=a}else d!==null?(a=d.baseLanes|i,t.memoizedState=null):a=i,ge(cn,ht),ht|=a;return Xe(e,t,u,i),t.child}function Hc(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function _a(e,t,i,a,u){var d=rt(i)?xr:Ke.current;return d=Zr(t,d),on(t,u),i=ca(e,t,i,a,d,u),a=da(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Gt(e,t,u)):(ke&&a&&Ko(t),t.flags|=1,Xe(e,t,i,u),t.child)}function Kc(e,t,i,a,u){if(rt(i)){var d=!0;ti(t)}else d=!1;if(on(t,u),t.stateNode===null)wi(e,t),$c(t,i,a),ya(t,i,a,u),a=!0;else if(e===null){var p=t.stateNode,v=t.memoizedProps;p.props=v;var w=p.context,R=i.contextType;typeof R=="object"&&R!==null?R=vt(R):(R=rt(i)?xr:Ke.current,R=Zr(t,R));var D=i.getDerivedStateFromProps,L=typeof D=="function"||typeof p.getSnapshotBeforeUpdate=="function";L||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==a||w!==R)&&Mc(t,p,a,R),lr=!1;var $=t.memoizedState;p.state=$,ci(t,a,p,u),w=t.memoizedState,v!==a||$!==w||tt.current||lr?(typeof D=="function"&&(ga(t,i,D,a),w=t.memoizedState),(v=lr||Ic(t,i,v,a,$,w,R))?(L||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=w),p.props=a,p.state=w,p.context=R,a=v):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{p=t.stateNode,uc(e,t),v=t.memoizedProps,R=t.type===t.elementType?v:jt(t.type,v),p.props=R,L=t.pendingProps,$=p.context,w=i.contextType,typeof w=="object"&&w!==null?w=vt(w):(w=rt(i)?xr:Ke.current,w=Zr(t,w));var B=i.getDerivedStateFromProps;(D=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==L||$!==w)&&Mc(t,p,a,w),lr=!1,$=t.memoizedState,p.state=$,ci(t,a,p,u);var V=t.memoizedState;v!==L||$!==V||tt.current||lr?(typeof B=="function"&&(ga(t,i,B,a),V=t.memoizedState),(R=lr||Ic(t,i,R,a,$,V,w)||!1)?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,V,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,V,w)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=V),p.props=a,p.state=V,p.context=w,a=R):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),a=!1)}return ka(e,t,i,a,d,u)}function ka(e,t,i,a,u,d){Hc(e,t);var p=(t.flags&128)!==0;if(!a&&!p)return u&&Xu(t,i,!1),Gt(e,t,d);a=t.stateNode,pp.current=t;var v=p&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&p?(t.child=nn(t,e.child,null,d),t.child=nn(t,null,v,d)):Xe(e,t,v,d),t.memoizedState=a.state,u&&Xu(t,i,!0),t.child}function Gc(e){var t=e.stateNode;t.pendingContext?Qu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qu(e,t.context,!1),sa(e,t.containerInfo)}function Jc(e,t,i,a,u){return rn(),Yo(u),t.flags|=256,Xe(e,t,i,a),t.child}var Sa={dehydrated:null,treeContext:null,retryLane:0};function xa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qc(e,t,i){var a=t.pendingProps,u=Se.current,d=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(u&2)!==0),v?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),ge(Se,u&1),e===null)return Qo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=a.children,e=a.fallback,d?(a=t.mode,d=t.child,p={mode:"hidden",children:p},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=Ri(p,a,0,null),e=Ar(e,a,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=xa(i),t.memoizedState=Sa,e):Ea(t,p));if(u=e.memoizedState,u!==null&&(v=u.dehydrated,v!==null))return mp(e,t,p,a,v,u,i);if(d){d=a.fallback,p=t.mode,u=e.child,v=u.sibling;var w={mode:"hidden",children:a.children};return(p&1)===0&&t.child!==u?(a=t.child,a.childLanes=0,a.pendingProps=w,t.deletions=null):(a=mr(u,w),a.subtreeFlags=u.subtreeFlags&14680064),v!==null?d=mr(v,d):(d=Ar(d,p,i,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,p=e.child.memoizedState,p=p===null?xa(i):{baseLanes:p.baseLanes|i,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~i,t.memoizedState=Sa,a}return d=e.child,e=d.sibling,a=mr(d,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function Ea(e,t){return t=Ri({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vi(e,t,i,a){return a!==null&&Yo(a),nn(t,e.child,null,i),e=Ea(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mp(e,t,i,a,u,d,p){if(i)return t.flags&256?(t.flags&=-257,a=va(Error(n(422))),vi(e,t,p,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,u=t.mode,a=Ri({mode:"visible",children:a.children},u,0,null),d=Ar(d,u,p,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,(t.mode&1)!==0&&nn(t,e.child,null,p),t.child.memoizedState=xa(p),t.memoizedState=Sa,d);if((t.mode&1)===0)return vi(e,t,p,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var v=a.dgst;return a=v,d=Error(n(419)),a=va(d,a,void 0),vi(e,t,p,a)}if(v=(p&e.childLanes)!==0,nt||v){if(a=We,a!==null){switch(p&-p){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|p))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Ht(e,u),Ot(a,e,u,-1))}return Wa(),a=va(Error(n(421))),vi(e,t,p,a)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Cp.bind(null,e),u._reactRetry=t,null):(e=d.treeContext,dt=sr(u.nextSibling),ct=t,ke=!0,bt=null,e!==null&&(gt[yt++]=qt,gt[yt++]=Vt,gt[yt++]=Er,qt=e.id,Vt=e.overflow,Er=t),t=Ea(t,a.children),t.flags|=4096,t)}function Yc(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ta(e.return,t,i)}function ba(e,t,i,a,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=u)}function Xc(e,t,i){var a=t.pendingProps,u=a.revealOrder,d=a.tail;if(Xe(e,t,a.children,i),a=Se.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yc(e,i,t);else if(e.tag===19)Yc(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ge(Se,a),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&di(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),ba(t,!1,u,i,d);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&di(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}ba(t,!0,i,null,d);break;case"together":ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=mr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=mr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function gp(e,t,i){switch(t.tag){case 3:Gc(t),rn();break;case 5:hc(t);break;case 1:rt(t.type)&&ti(t);break;case 4:sa(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,u=t.memoizedProps.value;ge(ai,a._currentValue),a._currentValue=u;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(ge(Se,Se.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Qc(e,t,i):(ge(Se,Se.current&1),e=Gt(e,t,i),e!==null?e.sibling:null);ge(Se,Se.current&1);break;case 19:if(a=(i&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Xc(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ge(Se,Se.current),a)break;return null;case 22:case 23:return t.lanes=0,Vc(e,t,i)}return Gt(e,t,i)}var Zc,ja,ed,td;Zc=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ja=function(){},ed=function(e,t,i,a){var u=e.memoizedProps;if(u!==a){e=t.stateNode,Tr(Lt.current);var d=null;switch(i){case"input":u=eo(e,u),a=eo(e,a),d=[];break;case"select":u=q({},u,{value:void 0}),a=q({},a,{value:void 0}),d=[];break;case"textarea":u=no(e,u),a=no(e,a),d=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Xs)}io(i,a);var p;i=null;for(R in u)if(!a.hasOwnProperty(R)&&u.hasOwnProperty(R)&&u[R]!=null)if(R==="style"){var v=u[R];for(p in v)v.hasOwnProperty(p)&&(i||(i={}),i[p]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(l.hasOwnProperty(R)?d||(d=[]):(d=d||[]).push(R,null));for(R in a){var w=a[R];if(v=u!=null?u[R]:void 0,a.hasOwnProperty(R)&&w!==v&&(w!=null||v!=null))if(R==="style")if(v){for(p in v)!v.hasOwnProperty(p)||w&&w.hasOwnProperty(p)||(i||(i={}),i[p]="");for(p in w)w.hasOwnProperty(p)&&v[p]!==w[p]&&(i||(i={}),i[p]=w[p])}else i||(d||(d=[]),d.push(R,i)),i=w;else R==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,v=v?v.__html:void 0,w!=null&&v!==w&&(d=d||[]).push(R,w)):R==="children"?typeof w!="string"&&typeof w!="number"||(d=d||[]).push(R,""+w):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(l.hasOwnProperty(R)?(w!=null&&R==="onScroll"&&ve("scroll",e),d||v===w||(d=[])):(d=d||[]).push(R,w))}i&&(d=d||[]).push("style",i);var R=d;(t.updateQueue=R)&&(t.flags|=4)}},td=function(e,t,i,a){i!==a&&(t.flags|=4)};function os(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function yp(e,t,i){var a=t.pendingProps;switch(Go(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return rt(t.type)&&ei(),Je(t),null;case 3:return a=t.stateNode,an(),we(tt),we(Ke),aa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bt!==null&&(Da(bt),bt=null))),ja(e,t),Je(t),null;case 5:ia(t);var u=Tr(ts.current);if(i=t.type,e!==null&&t.stateNode!=null)ed(e,t,i,a,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(n(166));return Je(t),null}if(e=Tr(Lt.current),ii(t)){a=t.stateNode,i=t.type;var d=t.memoizedProps;switch(a[Dt]=t,a[Qn]=d,e=(t.mode&1)!==0,i){case"dialog":ve("cancel",a),ve("close",a);break;case"iframe":case"object":case"embed":ve("load",a);break;case"video":case"audio":for(u=0;u<Kn.length;u++)ve(Kn[u],a);break;case"source":ve("error",a);break;case"img":case"image":case"link":ve("error",a),ve("load",a);break;case"details":ve("toggle",a);break;case"input":$l(a,d),ve("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},ve("invalid",a);break;case"textarea":Ll(a,d),ve("invalid",a)}io(i,d),u=null;for(var p in d)if(d.hasOwnProperty(p)){var v=d[p];p==="children"?typeof v=="string"?a.textContent!==v&&(d.suppressHydrationWarning!==!0&&Ys(a.textContent,v,e),u=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&Ys(a.textContent,v,e),u=["children",""+v]):l.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&ve("scroll",a)}switch(i){case"input":Cs(a),Dl(a,d,!0);break;case"textarea":Cs(a),Wl(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Xs)}a=u,t.updateQueue=a,a!==null&&(t.flags|=4)}else{p=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zl(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=p.createElement(i,{is:a.is}):(e=p.createElement(i),i==="select"&&(p=e,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):e=p.createElementNS(e,i),e[Dt]=t,e[Qn]=a,Zc(e,t,!1,!1),t.stateNode=e;e:{switch(p=oo(i,a),i){case"dialog":ve("cancel",e),ve("close",e),u=a;break;case"iframe":case"object":case"embed":ve("load",e),u=a;break;case"video":case"audio":for(u=0;u<Kn.length;u++)ve(Kn[u],e);u=a;break;case"source":ve("error",e),u=a;break;case"img":case"image":case"link":ve("error",e),ve("load",e),u=a;break;case"details":ve("toggle",e),u=a;break;case"input":$l(e,a),u=eo(e,a),ve("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=q({},a,{value:void 0}),ve("invalid",e);break;case"textarea":Ll(e,a),u=no(e,a),ve("invalid",e);break;default:u=a}io(i,u),v=u;for(d in v)if(v.hasOwnProperty(d)){var w=v[d];d==="style"?ql(e,w):d==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&Bl(e,w)):d==="children"?typeof w=="string"?(i!=="textarea"||w!=="")&&Cn(e,w):typeof w=="number"&&Cn(e,""+w):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?w!=null&&d==="onScroll"&&ve("scroll",e):w!=null&&x(e,d,w,p))}switch(i){case"input":Cs(e),Dl(e,a,!1);break;case"textarea":Cs(e),Wl(e);break;case"option":a.value!=null&&e.setAttribute("value",""+he(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?zr(e,!!a.multiple,d,!1):a.defaultValue!=null&&zr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Xs)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)td(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(n(166));if(i=Tr(ts.current),Tr(Lt.current),ii(t)){if(a=t.stateNode,i=t.memoizedProps,a[Dt]=t,(d=a.nodeValue!==i)&&(e=ct,e!==null))switch(e.tag){case 3:Ys(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ys(a.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Dt]=t,t.stateNode=a}return Je(t),null;case 13:if(we(Se),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)sc(),rn(),t.flags|=98560,d=!1;else if(d=ii(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(n(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));d[Dt]=t}else rn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),d=!1}else bt!==null&&(Da(bt),bt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Se.current&1)!==0?Me===0&&(Me=3):Wa())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return an(),ja(e,t),e===null&&Gn(t.stateNode.containerInfo),Je(t),null;case 10:return ea(t.type._context),Je(t),null;case 17:return rt(t.type)&&ei(),Je(t),null;case 19:if(we(Se),d=t.memoizedState,d===null)return Je(t),null;if(a=(t.flags&128)!==0,p=d.rendering,p===null)if(a)os(d,!1);else{if(Me!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=di(e),p!==null){for(t.flags|=128,os(d,!1),a=p.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)d=i,e=a,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ge(Se,Se.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ne()>dn&&(t.flags|=128,a=!0,os(d,!1),t.lanes=4194304)}else{if(!a)if(e=di(p),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),os(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!ke)return Je(t),null}else 2*Ne()-d.renderingStartTime>dn&&i!==1073741824&&(t.flags|=128,a=!0,os(d,!1),t.lanes=4194304);d.isBackwards?(p.sibling=t.child,t.child=p):(i=d.last,i!==null?i.sibling=p:t.child=p,d.last=p)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ne(),t.sibling=null,i=Se.current,ge(Se,a?i&1|2:i&1),t):(Je(t),null);case 22:case 23:return Ua(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(ht&1073741824)!==0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function vp(e,t){switch(Go(t),t.tag){case 1:return rt(t.type)&&ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return an(),we(tt),we(Ke),aa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ia(t),null;case 13:if(we(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Se),null;case 4:return an(),null;case 10:return ea(t.type._context),null;case 22:case 23:return Ua(),null;case 24:return null;default:return null}}var _i=!1,Qe=!1,wp=typeof WeakSet=="function"?WeakSet:Set,F=null;function un(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Te(e,t,a)}else i.current=null}function Ta(e,t,i){try{i()}catch(a){Te(e,t,a)}}var rd=!1;function _p(e,t){if(Uo=Ws,e=Iu(),Ro(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var p=0,v=-1,w=-1,R=0,D=0,L=e,$=null;t:for(;;){for(var B;L!==i||u!==0&&L.nodeType!==3||(v=p+u),L!==d||a!==0&&L.nodeType!==3||(w=p+a),L.nodeType===3&&(p+=L.nodeValue.length),(B=L.firstChild)!==null;)$=L,L=B;for(;;){if(L===e)break t;if($===i&&++R===u&&(v=p),$===d&&++D===a&&(w=p),(B=L.nextSibling)!==null)break;L=$,$=L.parentNode}L=B}i=v===-1||w===-1?null:{start:v,end:w}}else i=null}i=i||{start:0,end:0}}else i=null;for(Wo={focusedElem:e,selectionRange:i},Ws=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var V=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var H=V.memoizedProps,Re=V.memoizedState,j=t.stateNode,k=j.getSnapshotBeforeUpdate(t.elementType===t.type?H:jt(t.type,H),Re);j.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){Te(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return V=rd,rd=!1,V}function as(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&Ta(t,i,d)}u=u.next}while(u!==a)}}function ki(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Ca(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function nd(e){var t=e.alternate;t!==null&&(e.alternate=null,nd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dt],delete t[Qn],delete t[qo],delete t[rp],delete t[np])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sd(e){return e.tag===5||e.tag===3||e.tag===4}function id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oa(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Xs));else if(a!==4&&(e=e.child,e!==null))for(Oa(e,t,i),e=e.sibling;e!==null;)Oa(e,t,i),e=e.sibling}function Na(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Na(e,t,i),e=e.sibling;e!==null;)Na(e,t,i),e=e.sibling}var Be=null,Tt=!1;function cr(e,t,i){for(i=i.child;i!==null;)od(e,t,i),i=i.sibling}function od(e,t,i){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Is,i)}catch{}switch(i.tag){case 5:Qe||un(i,t);case 6:var a=Be,u=Tt;Be=null,cr(e,t,i),Be=a,Tt=u,Be!==null&&(Tt?(e=Be,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Be.removeChild(i.stateNode));break;case 18:Be!==null&&(Tt?(e=Be,i=i.stateNode,e.nodeType===8?Fo(e.parentNode,i):e.nodeType===1&&Fo(e,i),Un(e)):Fo(Be,i.stateNode));break;case 4:a=Be,u=Tt,Be=i.stateNode.containerInfo,Tt=!0,cr(e,t,i),Be=a,Tt=u;break;case 0:case 11:case 14:case 15:if(!Qe&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var d=u,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&Ta(i,t,p),u=u.next}while(u!==a)}cr(e,t,i);break;case 1:if(!Qe&&(un(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(v){Te(i,t,v)}cr(e,t,i);break;case 21:cr(e,t,i);break;case 22:i.mode&1?(Qe=(a=Qe)||i.memoizedState!==null,cr(e,t,i),Qe=a):cr(e,t,i);break;default:cr(e,t,i)}}function ad(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new wp),t.forEach(function(a){var u=Op.bind(null,e,a);i.has(a)||(i.add(a),a.then(u,u))})}}function Ct(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];try{var d=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 5:Be=v.stateNode,Tt=!1;break e;case 3:Be=v.stateNode.containerInfo,Tt=!0;break e;case 4:Be=v.stateNode.containerInfo,Tt=!0;break e}v=v.return}if(Be===null)throw Error(n(160));od(d,p,u),Be=null,Tt=!1;var w=u.alternate;w!==null&&(w.return=null),u.return=null}catch(R){Te(u,t,R)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ld(t,e),t=t.sibling}function ld(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),Wt(e),a&4){try{as(3,e,e.return),ki(3,e)}catch(H){Te(e,e.return,H)}try{as(5,e,e.return)}catch(H){Te(e,e.return,H)}}break;case 1:Ct(t,e),Wt(e),a&512&&i!==null&&un(i,i.return);break;case 5:if(Ct(t,e),Wt(e),a&512&&i!==null&&un(i,i.return),e.flags&32){var u=e.stateNode;try{Cn(u,"")}catch(H){Te(e,e.return,H)}}if(a&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,p=i!==null?i.memoizedProps:d,v=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&Ml(u,d),oo(v,p);var R=oo(v,d);for(p=0;p<w.length;p+=2){var D=w[p],L=w[p+1];D==="style"?ql(u,L):D==="dangerouslySetInnerHTML"?Bl(u,L):D==="children"?Cn(u,L):x(u,D,L,R)}switch(v){case"input":to(u,d);break;case"textarea":Ul(u,d);break;case"select":var $=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var B=d.value;B!=null?zr(u,!!d.multiple,B,!1):$!==!!d.multiple&&(d.defaultValue!=null?zr(u,!!d.multiple,d.defaultValue,!0):zr(u,!!d.multiple,d.multiple?[]:"",!1))}u[Qn]=d}catch(H){Te(e,e.return,H)}}break;case 6:if(Ct(t,e),Wt(e),a&4){if(e.stateNode===null)throw Error(n(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(H){Te(e,e.return,H)}}break;case 3:if(Ct(t,e),Wt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Un(t.containerInfo)}catch(H){Te(e,e.return,H)}break;case 4:Ct(t,e),Wt(e);break;case 13:Ct(t,e),Wt(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(Aa=Ne())),a&4&&ad(e);break;case 22:if(D=i!==null&&i.memoizedState!==null,e.mode&1?(Qe=(R=Qe)||D,Ct(t,e),Qe=R):Ct(t,e),Wt(e),a&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!D&&(e.mode&1)!==0)for(F=e,D=e.child;D!==null;){for(L=F=D;F!==null;){switch($=F,B=$.child,$.tag){case 0:case 11:case 14:case 15:as(4,$,$.return);break;case 1:un($,$.return);var V=$.stateNode;if(typeof V.componentWillUnmount=="function"){a=$,i=$.return;try{t=a,V.props=t.memoizedProps,V.state=t.memoizedState,V.componentWillUnmount()}catch(H){Te(a,i,H)}}break;case 5:un($,$.return);break;case 22:if($.memoizedState!==null){dd(L);continue}}B!==null?(B.return=$,F=B):dd(L)}D=D.sibling}e:for(D=null,L=e;;){if(L.tag===5){if(D===null){D=L;try{u=L.stateNode,R?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=L.stateNode,w=L.memoizedProps.style,p=w!=null&&w.hasOwnProperty("display")?w.display:null,v.style.display=Fl("display",p))}catch(H){Te(e,e.return,H)}}}else if(L.tag===6){if(D===null)try{L.stateNode.nodeValue=R?"":L.memoizedProps}catch(H){Te(e,e.return,H)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;D===L&&(D=null),L=L.return}D===L&&(D=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:Ct(t,e),Wt(e),a&4&&ad(e);break;case 21:break;default:Ct(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(sd(i)){var a=i;break e}i=i.return}throw Error(n(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(Cn(u,""),a.flags&=-33);var d=id(e);Na(e,d,u);break;case 3:case 4:var p=a.stateNode.containerInfo,v=id(e);Oa(e,v,p);break;default:throw Error(n(161))}}catch(w){Te(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kp(e,t,i){F=e,ud(e)}function ud(e,t,i){for(var a=(e.mode&1)!==0;F!==null;){var u=F,d=u.child;if(u.tag===22&&a){var p=u.memoizedState!==null||_i;if(!p){var v=u.alternate,w=v!==null&&v.memoizedState!==null||Qe;v=_i;var R=Qe;if(_i=p,(Qe=w)&&!R)for(F=u;F!==null;)p=F,w=p.child,p.tag===22&&p.memoizedState!==null?hd(u):w!==null?(w.return=p,F=w):hd(u);for(;d!==null;)F=d,ud(d),d=d.sibling;F=u,_i=v,Qe=R}cd(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,F=d):cd(e)}}function cd(e){for(;F!==null;){var t=F;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Qe||ki(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Qe)if(i===null)a.componentDidMount();else{var u=t.elementType===t.type?i.memoizedProps:jt(t.type,i.memoizedProps);a.componentDidUpdate(u,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&dc(t,d,a);break;case 3:var p=t.updateQueue;if(p!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}dc(t,p,i)}break;case 5:var v=t.stateNode;if(i===null&&t.flags&4){i=v;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&i.focus();break;case"img":w.src&&(i.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var R=t.alternate;if(R!==null){var D=R.memoizedState;if(D!==null){var L=D.dehydrated;L!==null&&Un(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qe||t.flags&512&&Ca(t)}catch($){Te(t,t.return,$)}}if(t===e){F=null;break}if(i=t.sibling,i!==null){i.return=t.return,F=i;break}F=t.return}}function dd(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var i=t.sibling;if(i!==null){i.return=t.return,F=i;break}F=t.return}}function hd(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{ki(4,t)}catch(w){Te(t,i,w)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var u=t.return;try{a.componentDidMount()}catch(w){Te(t,u,w)}}var d=t.return;try{Ca(t)}catch(w){Te(t,d,w)}break;case 5:var p=t.return;try{Ca(t)}catch(w){Te(t,p,w)}}}catch(w){Te(t,t.return,w)}if(t===e){F=null;break}var v=t.sibling;if(v!==null){v.return=t.return,F=v;break}F=t.return}}var Sp=Math.ceil,Si=I.ReactCurrentDispatcher,Ra=I.ReactCurrentOwner,_t=I.ReactCurrentBatchConfig,le=0,We=null,Ae=null,Fe=0,ht=0,cn=ir(0),Me=0,ls=null,Or=0,xi=0,Pa=0,us=null,st=null,Aa=0,dn=1/0,Jt=null,Ei=!1,Ia=null,dr=null,bi=!1,hr=null,ji=0,cs=0,$a=null,Ti=-1,Ci=0;function Ze(){return(le&6)!==0?Ne():Ti!==-1?Ti:Ti=Ne()}function fr(e){return(e.mode&1)===0?1:(le&2)!==0&&Fe!==0?Fe&-Fe:ip.transition!==null?(Ci===0&&(Ci=iu()),Ci):(e=fe,e!==0||(e=window.event,e=e===void 0?16:pu(e.type)),e)}function Ot(e,t,i,a){if(50<cs)throw cs=0,$a=null,Error(n(185));In(e,i,a),((le&2)===0||e!==We)&&(e===We&&((le&2)===0&&(xi|=i),Me===4&&pr(e,Fe)),it(e,a),i===1&&le===0&&(t.mode&1)===0&&(dn=Ne()+500,ri&&ar()))}function it(e,t){var i=e.callbackNode;sf(e,t);var a=Ds(e,e===We?Fe:0);if(a===0)i!==null&&ru(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&ru(i),t===1)e.tag===0?sp(pd.bind(null,e)):Zu(pd.bind(null,e)),ep(function(){(le&6)===0&&ar()}),i=null;else{switch(ou(a)){case 1:i=po;break;case 4:i=nu;break;case 16:i=As;break;case 536870912:i=su;break;default:i=As}i=Sd(i,fd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function fd(e,t){if(Ti=-1,Ci=0,(le&6)!==0)throw Error(n(327));var i=e.callbackNode;if(hn()&&e.callbackNode!==i)return null;var a=Ds(e,e===We?Fe:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Oi(e,a);else{t=a;var u=le;le|=2;var d=gd();(We!==e||Fe!==t)&&(Jt=null,dn=Ne()+500,Rr(e,t));do try{bp();break}catch(v){md(e,v)}while(!0);Zo(),Si.current=d,le=u,Ae!==null?t=0:(We=null,Fe=0,t=Me)}if(t!==0){if(t===2&&(u=mo(e),u!==0&&(a=u,t=Ma(e,u))),t===1)throw i=ls,Rr(e,0),pr(e,a),it(e,Ne()),i;if(t===6)pr(e,a);else{if(u=e.current.alternate,(a&30)===0&&!xp(u)&&(t=Oi(e,a),t===2&&(d=mo(e),d!==0&&(a=d,t=Ma(e,d))),t===1))throw i=ls,Rr(e,0),pr(e,a),it(e,Ne()),i;switch(e.finishedWork=u,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:Pr(e,st,Jt);break;case 3:if(pr(e,a),(a&130023424)===a&&(t=Aa+500-Ne(),10<t)){if(Ds(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){Ze(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Bo(Pr.bind(null,e,st,Jt),t);break}Pr(e,st,Jt);break;case 4:if(pr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,u=-1;0<a;){var p=31-xt(a);d=1<<p,p=t[p],p>u&&(u=p),a&=~d}if(a=u,a=Ne()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Sp(a/1960))-a,10<a){e.timeoutHandle=Bo(Pr.bind(null,e,st,Jt),a);break}Pr(e,st,Jt);break;case 5:Pr(e,st,Jt);break;default:throw Error(n(329))}}}return it(e,Ne()),e.callbackNode===i?fd.bind(null,e):null}function Ma(e,t){var i=us;return e.current.memoizedState.isDehydrated&&(Rr(e,t).flags|=256),e=Oi(e,t),e!==2&&(t=st,st=i,t!==null&&Da(t)),e}function Da(e){st===null?st=e:st.push.apply(st,e)}function xp(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var u=i[a],d=u.getSnapshot;u=u.value;try{if(!Et(d(),u))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pr(e,t){for(t&=~Pa,t&=~xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-xt(t),a=1<<i;e[i]=-1,t&=~a}}function pd(e){if((le&6)!==0)throw Error(n(327));hn();var t=Ds(e,0);if((t&1)===0)return it(e,Ne()),null;var i=Oi(e,t);if(e.tag!==0&&i===2){var a=mo(e);a!==0&&(t=a,i=Ma(e,a))}if(i===1)throw i=ls,Rr(e,0),pr(e,t),it(e,Ne()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pr(e,st,Jt),it(e,Ne()),null}function La(e,t){var i=le;le|=1;try{return e(t)}finally{le=i,le===0&&(dn=Ne()+500,ri&&ar())}}function Nr(e){hr!==null&&hr.tag===0&&(le&6)===0&&hn();var t=le;le|=1;var i=_t.transition,a=fe;try{if(_t.transition=null,fe=1,e)return e()}finally{fe=a,_t.transition=i,le=t,(le&6)===0&&ar()}}function Ua(){ht=cn.current,we(cn)}function Rr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Zf(i)),Ae!==null)for(i=Ae.return;i!==null;){var a=i;switch(Go(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ei();break;case 3:an(),we(tt),we(Ke),aa();break;case 5:ia(a);break;case 4:an();break;case 13:we(Se);break;case 19:we(Se);break;case 10:ea(a.type._context);break;case 22:case 23:Ua()}i=i.return}if(We=e,Ae=e=mr(e.current,null),Fe=ht=t,Me=0,ls=null,Pa=xi=Or=0,st=us=null,jr!==null){for(t=0;t<jr.length;t++)if(i=jr[t],a=i.interleaved,a!==null){i.interleaved=null;var u=a.next,d=i.pending;if(d!==null){var p=d.next;d.next=u,a.next=p}i.pending=a}jr=null}return e}function md(e,t){do{var i=Ae;try{if(Zo(),hi.current=gi,fi){for(var a=xe.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}fi=!1}if(Cr=0,Ue=$e=xe=null,rs=!1,ns=0,Ra.current=null,i===null||i.return===null){Me=1,ls=t,Ae=null;break}e:{var d=e,p=i.return,v=i,w=t;if(t=Fe,v.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var R=w,D=v,L=D.tag;if((D.mode&1)===0&&(L===0||L===11||L===15)){var $=D.alternate;$?(D.updateQueue=$.updateQueue,D.memoizedState=$.memoizedState,D.lanes=$.lanes):(D.updateQueue=null,D.memoizedState=null)}var B=Wc(p);if(B!==null){B.flags&=-257,zc(B,p,v,d,t),B.mode&1&&Uc(d,R,t),t=B,w=R;var V=t.updateQueue;if(V===null){var H=new Set;H.add(w),t.updateQueue=H}else V.add(w);break e}else{if((t&1)===0){Uc(d,R,t),Wa();break e}w=Error(n(426))}}else if(ke&&v.mode&1){var Re=Wc(p);if(Re!==null){(Re.flags&65536)===0&&(Re.flags|=256),zc(Re,p,v,d,t),Yo(ln(w,v));break e}}d=w=ln(w,v),Me!==4&&(Me=2),us===null?us=[d]:us.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var j=Dc(d,w,t);cc(d,j);break e;case 1:v=w;var k=d.type,T=d.stateNode;if((d.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(dr===null||!dr.has(T)))){d.flags|=65536,t&=-t,d.lanes|=t;var W=Lc(d,v,t);cc(d,W);break e}}d=d.return}while(d!==null)}vd(i)}catch(G){t=G,Ae===i&&i!==null&&(Ae=i=i.return);continue}break}while(!0)}function gd(){var e=Si.current;return Si.current=gi,e===null?gi:e}function Wa(){(Me===0||Me===3||Me===2)&&(Me=4),We===null||(Or&268435455)===0&&(xi&268435455)===0||pr(We,Fe)}function Oi(e,t){var i=le;le|=2;var a=gd();(We!==e||Fe!==t)&&(Jt=null,Rr(e,t));do try{Ep();break}catch(u){md(e,u)}while(!0);if(Zo(),le=i,Si.current=a,Ae!==null)throw Error(n(261));return We=null,Fe=0,Me}function Ep(){for(;Ae!==null;)yd(Ae)}function bp(){for(;Ae!==null&&!Jh();)yd(Ae)}function yd(e){var t=kd(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?vd(e):Ae=t,Ra.current=null}function vd(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=yp(i,t,ht),i!==null){Ae=i;return}}else{if(i=vp(i,t),i!==null){i.flags&=32767,Ae=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Ae=null;return}}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Me===0&&(Me=5)}function Pr(e,t,i){var a=fe,u=_t.transition;try{_t.transition=null,fe=1,jp(e,t,i,a)}finally{_t.transition=u,fe=a}return null}function jp(e,t,i,a){do hn();while(hr!==null);if((le&6)!==0)throw Error(n(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(of(e,d),e===We&&(Ae=We=null,Fe=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||bi||(bi=!0,Sd(As,function(){return hn(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=_t.transition,_t.transition=null;var p=fe;fe=1;var v=le;le|=4,Ra.current=null,_p(e,i),ld(i,e),Hf(Wo),Ws=!!Uo,Wo=Uo=null,e.current=i,kp(i),Qh(),le=v,fe=p,_t.transition=d}else e.current=i;if(bi&&(bi=!1,hr=e,ji=u),d=e.pendingLanes,d===0&&(dr=null),Zh(i.stateNode),it(e,Ne()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)u=t[i],a(u.value,{componentStack:u.stack,digest:u.digest});if(Ei)throw Ei=!1,e=Ia,Ia=null,e;return(ji&1)!==0&&e.tag!==0&&hn(),d=e.pendingLanes,(d&1)!==0?e===$a?cs++:(cs=0,$a=e):cs=0,ar(),null}function hn(){if(hr!==null){var e=ou(ji),t=_t.transition,i=fe;try{if(_t.transition=null,fe=16>e?16:e,hr===null)var a=!1;else{if(e=hr,hr=null,ji=0,(le&6)!==0)throw Error(n(331));var u=le;for(le|=4,F=e.current;F!==null;){var d=F,p=d.child;if((F.flags&16)!==0){var v=d.deletions;if(v!==null){for(var w=0;w<v.length;w++){var R=v[w];for(F=R;F!==null;){var D=F;switch(D.tag){case 0:case 11:case 15:as(8,D,d)}var L=D.child;if(L!==null)L.return=D,F=L;else for(;F!==null;){D=F;var $=D.sibling,B=D.return;if(nd(D),D===R){F=null;break}if($!==null){$.return=B,F=$;break}F=B}}}var V=d.alternate;if(V!==null){var H=V.child;if(H!==null){V.child=null;do{var Re=H.sibling;H.sibling=null,H=Re}while(H!==null)}}F=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,F=p;else e:for(;F!==null;){if(d=F,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:as(9,d,d.return)}var j=d.sibling;if(j!==null){j.return=d.return,F=j;break e}F=d.return}}var k=e.current;for(F=k;F!==null;){p=F;var T=p.child;if((p.subtreeFlags&2064)!==0&&T!==null)T.return=p,F=T;else e:for(p=k;F!==null;){if(v=F,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:ki(9,v)}}catch(G){Te(v,v.return,G)}if(v===p){F=null;break e}var W=v.sibling;if(W!==null){W.return=v.return,F=W;break e}F=v.return}}if(le=u,ar(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Is,e)}catch{}a=!0}return a}finally{fe=i,_t.transition=t}}return!1}function wd(e,t,i){t=ln(i,t),t=Dc(e,t,1),e=ur(e,t,1),t=Ze(),e!==null&&(In(e,1,t),it(e,t))}function Te(e,t,i){if(e.tag===3)wd(e,e,i);else for(;t!==null;){if(t.tag===3){wd(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(dr===null||!dr.has(a))){e=ln(i,e),e=Lc(t,e,1),t=ur(t,e,1),e=Ze(),t!==null&&(In(t,1,e),it(t,e));break}}t=t.return}}function Tp(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&i,We===e&&(Fe&i)===i&&(Me===4||Me===3&&(Fe&130023424)===Fe&&500>Ne()-Aa?Rr(e,0):Pa|=i),it(e,t)}function _d(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ms,Ms<<=1,(Ms&130023424)===0&&(Ms=4194304)));var i=Ze();e=Ht(e,t),e!==null&&(In(e,t,i),it(e,i))}function Cp(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),_d(e,i)}function Op(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(t),_d(e,i)}var kd;kd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)nt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return nt=!1,gp(e,t,i);nt=(e.flags&131072)!==0}else nt=!1,ke&&(t.flags&1048576)!==0&&ec(t,si,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;wi(e,t),e=t.pendingProps;var u=Zr(t,Ke.current);on(t,i),u=ca(null,t,a,e,u,i);var d=da();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(a)?(d=!0,ti(t)):d=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,na(t),u.updater=yi,t.stateNode=u,u._reactInternals=t,ya(t,a,e,i),t=ka(null,t,a,!0,d,i)):(t.tag=0,ke&&d&&Ko(t),Xe(null,t,u,i),t=t.child),t;case 16:a=t.elementType;e:{switch(wi(e,t),e=t.pendingProps,u=a._init,a=u(a._payload),t.type=a,u=t.tag=Rp(a),e=jt(a,e),u){case 0:t=_a(null,t,a,e,i);break e;case 1:t=Kc(null,t,a,e,i);break e;case 11:t=Bc(null,t,a,e,i);break e;case 14:t=Fc(null,t,a,jt(a.type,e),i);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:jt(a,u),_a(e,t,a,u,i);case 1:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:jt(a,u),Kc(e,t,a,u,i);case 3:e:{if(Gc(t),e===null)throw Error(n(387));a=t.pendingProps,d=t.memoizedState,u=d.element,uc(e,t),ci(t,a,null,i);var p=t.memoizedState;if(a=p.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){u=ln(Error(n(423)),t),t=Jc(e,t,a,i,u);break e}else if(a!==u){u=ln(Error(n(424)),t),t=Jc(e,t,a,i,u);break e}else for(dt=sr(t.stateNode.containerInfo.firstChild),ct=t,ke=!0,bt=null,i=ac(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(rn(),a===u){t=Gt(e,t,i);break e}Xe(e,t,a,i)}t=t.child}return t;case 5:return hc(t),e===null&&Qo(t),a=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,p=u.children,zo(a,u)?p=null:d!==null&&zo(a,d)&&(t.flags|=32),Hc(e,t),Xe(e,t,p,i),t.child;case 6:return e===null&&Qo(t),null;case 13:return Qc(e,t,i);case 4:return sa(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=nn(t,null,a,i):Xe(e,t,a,i),t.child;case 11:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:jt(a,u),Bc(e,t,a,u,i);case 7:return Xe(e,t,t.pendingProps,i),t.child;case 8:return Xe(e,t,t.pendingProps.children,i),t.child;case 12:return Xe(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,u=t.pendingProps,d=t.memoizedProps,p=u.value,ge(ai,a._currentValue),a._currentValue=p,d!==null)if(Et(d.value,p)){if(d.children===u.children&&!tt.current){t=Gt(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var v=d.dependencies;if(v!==null){p=d.child;for(var w=v.firstContext;w!==null;){if(w.context===a){if(d.tag===1){w=Kt(-1,i&-i),w.tag=2;var R=d.updateQueue;if(R!==null){R=R.shared;var D=R.pending;D===null?w.next=w:(w.next=D.next,D.next=w),R.pending=w}}d.lanes|=i,w=d.alternate,w!==null&&(w.lanes|=i),ta(d.return,i,t),v.lanes|=i;break}w=w.next}}else if(d.tag===10)p=d.type===t.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(n(341));p.lanes|=i,v=p.alternate,v!==null&&(v.lanes|=i),ta(p,i,t),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===t){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Xe(e,t,u.children,i),t=t.child}return t;case 9:return u=t.type,a=t.pendingProps.children,on(t,i),u=vt(u),a=a(u),t.flags|=1,Xe(e,t,a,i),t.child;case 14:return a=t.type,u=jt(a,t.pendingProps),u=jt(a.type,u),Fc(e,t,a,u,i);case 15:return qc(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:jt(a,u),wi(e,t),t.tag=1,rt(a)?(e=!0,ti(t)):e=!1,on(t,i),$c(t,a,u),ya(t,a,u,i),ka(null,t,a,!0,e,i);case 19:return Xc(e,t,i);case 22:return Vc(e,t,i)}throw Error(n(156,t.tag))};function Sd(e,t){return tu(e,t)}function Np(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,i,a){return new Np(e,t,i,a)}function za(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rp(e){if(typeof e=="function")return za(e)?1:0;if(e!=null){if(e=e.$$typeof,e===It)return 11;if(e===$t)return 14}return 2}function mr(e,t){var i=e.alternate;return i===null?(i=kt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ni(e,t,i,a,u,d){var p=2;if(a=e,typeof e=="function")za(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case ne:return Ar(i.children,u,d,t);case Oe:p=8,u|=8;break;case Le:return e=kt(12,i,t,u|2),e.elementType=Le,e.lanes=d,e;case at:return e=kt(13,i,t,u),e.elementType=at,e.lanes=d,e;case St:return e=kt(19,i,t,u),e.elementType=St,e.lanes=d,e;case je:return Ri(i,u,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zt:p=10;break e;case _r:p=9;break e;case It:p=11;break e;case $t:p=14;break e;case et:p=16,a=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=kt(p,i,t,u),t.elementType=e,t.type=a,t.lanes=d,t}function Ar(e,t,i,a){return e=kt(7,e,a,t),e.lanes=i,e}function Ri(e,t,i,a){return e=kt(22,e,a,t),e.elementType=je,e.lanes=i,e.stateNode={isHidden:!1},e}function Ba(e,t,i){return e=kt(6,e,null,t),e.lanes=i,e}function Fa(e,t,i){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pp(e,t,i,a,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=go(0),this.expirationTimes=go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=go(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function qa(e,t,i,a,u,d,p,v,w){return e=new Pp(e,t,i,v,w),t===1?(t=1,d===!0&&(t|=8)):t=0,d=kt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(d),e}function Ap(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function xd(e){if(!e)return or;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(rt(i))return Yu(e,i,t)}return t}function Ed(e,t,i,a,u,d,p,v,w){return e=qa(i,a,!0,e,u,d,p,v,w),e.context=xd(null),i=e.current,a=Ze(),u=fr(i),d=Kt(a,u),d.callback=t??null,ur(i,d,u),e.current.lanes=u,In(e,u,a),it(e,a),e}function Pi(e,t,i,a){var u=t.current,d=Ze(),p=fr(u);return i=xd(i),t.context===null?t.context=i:t.pendingContext=i,t=Kt(d,p),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=ur(u,t,p),e!==null&&(Ot(e,u,p,d),ui(e,u,p)),p}function Ai(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Va(e,t){bd(e,t),(e=e.alternate)&&bd(e,t)}function Ip(){return null}var jd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ha(e){this._internalRoot=e}Ii.prototype.render=Ha.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Pi(e,t,null,null)},Ii.prototype.unmount=Ha.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){Pi(null,e,null,null)}),t[Bt]=null}};function Ii(e){this._internalRoot=e}Ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=uu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<tr.length&&t!==0&&t<tr[i].priority;i++);tr.splice(i,0,e),i===0&&hu(e)}};function Ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Td(){}function $p(e,t,i,a,u){if(u){if(typeof a=="function"){var d=a;a=function(){var R=Ai(p);d.call(R)}}var p=Ed(t,a,e,0,null,!1,!1,"",Td);return e._reactRootContainer=p,e[Bt]=p.current,Gn(e.nodeType===8?e.parentNode:e),Nr(),p}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var v=a;a=function(){var R=Ai(w);v.call(R)}}var w=qa(e,0,!1,null,null,!1,!1,"",Td);return e._reactRootContainer=w,e[Bt]=w.current,Gn(e.nodeType===8?e.parentNode:e),Nr(function(){Pi(t,w,i,a)}),w}function Mi(e,t,i,a,u){var d=i._reactRootContainer;if(d){var p=d;if(typeof u=="function"){var v=u;u=function(){var w=Ai(p);v.call(w)}}Pi(t,p,e,u)}else p=$p(i,t,e,u,a);return Ai(p)}au=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=An(t.pendingLanes);i!==0&&(yo(t,i|1),it(t,Ne()),(le&6)===0&&(dn=Ne()+500,ar()))}break;case 13:Nr(function(){var a=Ht(e,1);if(a!==null){var u=Ze();Ot(a,e,1,u)}}),Va(e,1)}},vo=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var i=Ze();Ot(t,e,134217728,i)}Va(e,134217728)}},lu=function(e){if(e.tag===13){var t=fr(e),i=Ht(e,t);if(i!==null){var a=Ze();Ot(i,e,t,a)}Va(e,t)}},uu=function(){return fe},cu=function(e,t){var i=fe;try{return fe=e,t()}finally{fe=i}},uo=function(e,t,i){switch(t){case"input":if(to(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var u=Zs(a);if(!u)throw Error(n(90));Il(a),to(a,u)}}}break;case"textarea":Ul(e,i);break;case"select":t=i.value,t!=null&&zr(e,!!i.multiple,t,!1)}},Gl=La,Jl=Nr;var Mp={usingClientEntryPoint:!1,Events:[Yn,Yr,Zs,Hl,Kl,La]},ds={findFiberByHostInstance:Sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dp={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zl(e),e===null?null:e.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||Ip,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Di.isDisabled&&Di.supportsFiber)try{Is=Di.inject(Dp),Mt=Di}catch{}}return ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mp,ot.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ka(t))throw Error(n(200));return Ap(e,t,null,i)},ot.createRoot=function(e,t){if(!Ka(e))throw Error(n(299));var i=!1,a="",u=jd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=qa(e,1,!1,null,null,i,!1,a,u),e[Bt]=t.current,Gn(e.nodeType===8?e.parentNode:e),new Ha(t)},ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Zl(t),e=e===null?null:e.stateNode,e},ot.flushSync=function(e){return Nr(e)},ot.hydrate=function(e,t,i){if(!$i(t))throw Error(n(200));return Mi(null,e,t,!0,i)},ot.hydrateRoot=function(e,t,i){if(!Ka(e))throw Error(n(405));var a=i!=null&&i.hydratedSources||null,u=!1,d="",p=jd;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),t=Ed(t,null,e,1,i??null,u,!1,d,p),e[Bt]=t.current,Gn(e),a)for(e=0;e<a.length;e++)i=a[e],u=i._getVersion,u=u(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,u]:t.mutableSourceEagerHydrationData.push(i,u);return new Ii(t)},ot.render=function(e,t,i){if(!$i(t))throw Error(n(200));return Mi(null,e,t,!1,i)},ot.unmountComponentAtNode=function(e){if(!$i(e))throw Error(n(40));return e._reactRootContainer?(Nr(function(){Mi(null,null,e,!1,function(){e._reactRootContainer=null,e[Bt]=null})}),!0):!1},ot.unstable_batchedUpdates=La,ot.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!$i(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Mi(e,t,i,!1,a)},ot.version="18.3.1-next-f1338f8080-20240426",ot}var $d;function Hp(){if($d)return Qa.exports;$d=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Qa.exports=Vp(),Qa.exports}var Md;function Kp(){if(Md)return Li;Md=1;var s=Hp();return Li.createRoot=s.createRoot,Li.hydrateRoot=s.hydrateRoot,Li}var Gp=Kp();const Jp=fh(Gp),Dd=[{id:"ocean",quote:"Don't worry about what you can't control",theme:"ocean",bgColor:"#f0f7fa"},{id:"kitchen",quote:"Create a life you can't wait to wake up to",theme:"kitchen",bgColor:"#faf8f5"},{id:"garden",quote:"Bloom where you are planted",theme:"garden",bgColor:"#f5faf5"},{id:"space",quote:"Shoot for the moon, land among the stars",theme:"space",bgColor:"#1a1a2e"},{id:"forest",quote:"The best time to plant a tree was yesterday",theme:"forest",bgColor:"#f5f8f5"},{id:"beach",quote:"Let the waves wash away your worries",theme:"beach",bgColor:"#faf9f5"},{id:"mountains",quote:"Every mountain top is within reach",theme:"mountains",bgColor:"#f8fafa"},{id:"city",quote:"Adventure awaits around every corner",theme:"city",bgColor:"#faf9f7"},{id:"books",quote:"A reader lives a thousand lives",theme:"books",bgColor:"#faf8f5"},{id:"rainy",quote:"After the rain comes the rainbow",theme:"rainy",bgColor:"#f5f8fa"}],Qp=()=>{const s=new Date,n=Math.floor((s-new Date(s.getFullYear(),0,0))/(6e3*60*24))%Dd.length;return Dd[n]},Yp=()=>{const s=new Date,r={weekday:"long",year:"numeric",month:"long",day:"numeric"};return s.toLocaleDateString("en-US",r)},Xp=({mousePos:s})=>m.jsxs("div",{className:"theme-container ocean-theme",children:[m.jsxs("svg",{className:"water-surface",viewBox:"0 0 1200 200",preserveAspectRatio:"none",children:[m.jsx("path",{className:"wave wave-1",d:"M0,100 C150,150 350,50 500,100 C650,150 850,50 1000,100 C1150,150 1200,100 1200,100 L1200,0 L0,0 Z"}),m.jsx("path",{className:"wave wave-2",d:"M0,120 C150,170 350,70 500,120 C650,170 850,70 1000,120 C1150,170 1200,120 1200,120 L1200,0 L0,0 Z"})]}),m.jsxs("svg",{className:"whale floating-element",style:{transform:`translate(${s.x*.02}px, ${s.y*.02}px)`},viewBox:"0 0 200 100",children:[m.jsx("ellipse",{cx:"100",cy:"50",rx:"80",ry:"40",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M20 50 Q-10 20 10 0",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M180 50 Q220 50 230 30 Q220 50 230 70 Q220 50 180 50",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("circle",{cx:"50",cy:"35",r:"5",fill:"currentColor"}),m.jsx("path",{d:"M70 60 Q90 70 110 60",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M60 50 Q65 48 70 50",fill:"none",stroke:"currentColor",strokeWidth:"1.5"})]}),m.jsx("div",{className:"fish-school",style:{transform:`translate(${s.x*-.03}px, ${s.y*-.02}px)`},children:[...Array(8)].map((r,n)=>m.jsxs("svg",{className:`fish fish-${n}`,viewBox:"0 0 40 20",children:[m.jsx("ellipse",{cx:"15",cy:"10",rx:"12",ry:"6",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("path",{d:"M27 10 L35 5 L35 15 Z",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("circle",{cx:"8",cy:"8",r:"2",fill:"currentColor"})]},n))}),m.jsx("div",{className:"bubbles",children:[...Array(15)].map((r,n)=>m.jsx("div",{className:`bubble bubble-${n}`,style:{left:`${10+Math.random()*80}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${4+Math.random()*4}s`}},n))}),m.jsxs("svg",{className:"seaweed seaweed-left",viewBox:"0 0 100 300",children:[m.jsx("path",{d:"M50 300 Q30 250 50 200 Q70 150 50 100 Q30 50 50 0",fill:"none",stroke:"currentColor",strokeWidth:"3"}),m.jsx("path",{d:"M30 300 Q10 260 30 220 Q50 180 30 140",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M70 300 Q90 260 70 220 Q50 180 70 140",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),m.jsxs("svg",{className:"seaweed seaweed-right",viewBox:"0 0 100 300",children:[m.jsx("path",{d:"M50 300 Q70 250 50 200 Q30 150 50 100 Q70 50 50 0",fill:"none",stroke:"currentColor",strokeWidth:"3"}),m.jsx("path",{d:"M30 300 Q50 260 30 220",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),m.jsxs("svg",{className:"coral coral-1",viewBox:"0 0 150 200",children:[m.jsx("path",{d:"M75 200 Q75 150 60 120 Q45 90 60 60 M60 120 Q75 100 90 120 M60 90 Q45 70 60 50 M90 120 Q105 90 90 60",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("circle",{cx:"60",cy:"50",r:"8",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("circle",{cx:"90",cy:"55",r:"6",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),m.jsxs("svg",{className:"jellyfish",style:{transform:`translate(${s.x*.04}px, ${s.y*.03}px)`},viewBox:"0 0 80 120",children:[m.jsx("ellipse",{cx:"40",cy:"30",rx:"30",ry:"25",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M15 50 Q20 80 15 100",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"tentacle"}),m.jsx("path",{d:"M30 55 Q35 85 30 110",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"tentacle"}),m.jsx("path",{d:"M50 55 Q45 85 50 110",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"tentacle"}),m.jsx("path",{d:"M65 50 Q60 80 65 100",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"tentacle"})]})]}),Zp=({mousePos:s})=>m.jsxs("div",{className:"theme-container garden-theme",children:[m.jsxs("svg",{className:"flower flower-1",style:{transform:`translate(${s.x*.02}px, ${s.y*.02}px)`},viewBox:"0 0 100 150",children:[m.jsx("line",{x1:"50",y1:"60",x2:"50",y2:"150",stroke:"currentColor",strokeWidth:"3"}),m.jsx("circle",{cx:"50",cy:"40",r:"25",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("circle",{cx:"50",cy:"40",r:"12",fill:"currentColor"}),m.jsx("path",{d:"M30 80 Q10 90 20 110",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M70 90 Q90 100 80 120",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),m.jsxs("svg",{className:"flower flower-2",style:{transform:`translate(${s.x*-.015}px, ${s.y*.025}px)`},viewBox:"0 0 120 180",children:[m.jsx("line",{x1:"60",y1:"80",x2:"60",y2:"180",stroke:"currentColor",strokeWidth:"3"}),m.jsx("ellipse",{cx:"60",cy:"50",rx:"20",ry:"35",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("ellipse",{cx:"35",cy:"60",rx:"20",ry:"35",fill:"none",stroke:"currentColor",strokeWidth:"2",transform:"rotate(-30 35 60)"}),m.jsx("ellipse",{cx:"85",cy:"60",rx:"20",ry:"35",fill:"none",stroke:"currentColor",strokeWidth:"2",transform:"rotate(30 85 60)"}),m.jsx("circle",{cx:"60",cy:"60",r:"10",fill:"currentColor"})]}),[...Array(5)].map((r,n)=>m.jsxs("svg",{className:`butterfly butterfly-${n}`,viewBox:"0 0 60 40",style:{transform:`translate(${s.x*(.03+n*.01)}px, ${s.y*(.02+n*.01)}px)`},children:[m.jsx("ellipse",{cx:"30",cy:"20",rx:"4",ry:"12",fill:"currentColor"}),m.jsx("ellipse",{cx:"18",cy:"15",rx:"12",ry:"10",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("ellipse",{cx:"42",cy:"15",rx:"12",ry:"10",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("ellipse",{cx:"20",cy:"28",rx:"8",ry:"6",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("ellipse",{cx:"40",cy:"28",rx:"8",ry:"6",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("path",{d:"M28 8 Q25 0 22 5",fill:"none",stroke:"currentColor",strokeWidth:"1"}),m.jsx("path",{d:"M32 8 Q35 0 38 5",fill:"none",stroke:"currentColor",strokeWidth:"1"})]},n)),m.jsxs("svg",{className:"grass grass-left",viewBox:"0 0 200 150",children:[m.jsx("path",{d:"M20 150 Q25 100 30 150",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M40 150 Q50 80 45 150",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M60 150 Q55 90 70 150",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M90 150 Q100 70 95 150",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M110 150 Q105 100 120 150",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),m.jsxs("svg",{className:"grass grass-right",viewBox:"0 0 200 150",children:[m.jsx("path",{d:"M80 150 Q85 90 90 150",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M100 150 Q110 70 105 150",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M130 150 Q125 100 140 150",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M160 150 Q170 80 165 150",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),m.jsx("div",{className:"petals",children:[...Array(12)].map((r,n)=>m.jsx("div",{className:`petal petal-${n}`,style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*8}s`},children:""},n))})]}),em=({mousePos:s})=>m.jsxs("div",{className:"theme-container space-theme",children:[m.jsx("div",{className:"stars-container",children:[...Array(50)].map((r,n)=>m.jsx("div",{className:`star star-${n%3}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`}},n))}),m.jsxs("svg",{className:"moon",style:{transform:`translate(${s.x*.01}px, ${s.y*.01}px)`},viewBox:"0 0 120 120",children:[m.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("circle",{cx:"45",cy:"45",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("circle",{cx:"70",cy:"55",r:"15",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("circle",{cx:"50",cy:"75",r:"8",fill:"none",stroke:"currentColor",strokeWidth:"1.5"})]}),m.jsxs("svg",{className:"planet",style:{transform:`translate(${s.x*-.02}px, ${s.y*-.02}px)`},viewBox:"0 0 200 150",children:[m.jsx("ellipse",{cx:"100",cy:"75",rx:"40",ry:"40",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("ellipse",{cx:"100",cy:"75",rx:"70",ry:"15",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("ellipse",{cx:"100",cy:"75",rx:"55",ry:"10",fill:"none",stroke:"currentColor",strokeWidth:"1"}),m.jsx("path",{d:"M70 55 Q80 50 90 55",fill:"none",stroke:"currentColor",strokeWidth:"1"})]}),m.jsxs("svg",{className:"rocket",style:{transform:`translate(${s.x*.03}px, ${s.y*.03}px)`},viewBox:"0 0 60 120",children:[m.jsx("ellipse",{cx:"30",cy:"50",rx:"15",ry:"40",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M30 10 L20 30 L40 30 Z",fill:"currentColor"}),m.jsx("path",{d:"M15 70 L5 95 L18 85",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M45 70 L55 95 L42 85",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("circle",{cx:"30",cy:"45",r:"8",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("ellipse",{cx:"30",cy:"95",rx:"10",ry:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"rocket-flame"})]}),[...Array(3)].map((r,n)=>m.jsx("div",{className:`shooting-star shooting-star-${n}`,style:{animationDelay:`${n*2}s`}},n)),m.jsxs("svg",{className:"constellation",viewBox:"0 0 200 150",children:[m.jsx("circle",{cx:"30",cy:"30",r:"3",fill:"currentColor"}),m.jsx("circle",{cx:"80",cy:"50",r:"3",fill:"currentColor"}),m.jsx("circle",{cx:"50",cy:"90",r:"3",fill:"currentColor"}),m.jsx("circle",{cx:"120",cy:"70",r:"3",fill:"currentColor"}),m.jsx("circle",{cx:"150",cy:"40",r:"3",fill:"currentColor"}),m.jsx("line",{x1:"30",y1:"30",x2:"80",y2:"50",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.5"}),m.jsx("line",{x1:"80",y1:"50",x2:"50",y2:"90",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.5"}),m.jsx("line",{x1:"80",y1:"50",x2:"120",y2:"70",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.5"}),m.jsx("line",{x1:"120",y1:"70",x2:"150",y2:"40",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.5"})]})]}),tm=({mousePos:s})=>m.jsxs("div",{className:"theme-container rainy-theme",children:[m.jsxs("svg",{className:"cloud cloud-1",style:{transform:`translate(${s.x*.01}px, 0)`},viewBox:"0 0 200 100",children:[m.jsx("ellipse",{cx:"60",cy:"60",rx:"50",ry:"35",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("ellipse",{cx:"100",cy:"50",rx:"40",ry:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("ellipse",{cx:"140",cy:"60",rx:"45",ry:"32",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("ellipse",{cx:"40",cy:"65",rx:"30",ry:"22",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),m.jsxs("svg",{className:"cloud cloud-2",style:{transform:`translate(${s.x*-.015}px, 0)`},viewBox:"0 0 180 90",children:[m.jsx("ellipse",{cx:"50",cy:"55",rx:"40",ry:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("ellipse",{cx:"90",cy:"45",rx:"35",ry:"28",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("ellipse",{cx:"130",cy:"55",rx:"38",ry:"28",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),m.jsx("div",{className:"rain-container",children:[...Array(40)].map((r,n)=>m.jsx("div",{className:"raindrop",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${.8+Math.random()*.4}s`}},n))}),m.jsxs("svg",{className:"umbrella",style:{transform:`translate(${s.x*.02}px, ${s.y*.02}px)`},viewBox:"0 0 150 180",children:[m.jsx("path",{d:"M15 80 Q75 20 135 80",fill:"none",stroke:"currentColor",strokeWidth:"3"}),m.jsx("path",{d:"M15 80 Q45 60 75 80",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("path",{d:"M75 80 Q105 60 135 80",fill:"none",stroke:"currentColor",strokeWidth:"2"}),m.jsx("line",{x1:"75",y1:"80",x2:"75",y2:"160",stroke:"currentColor",strokeWidth:"3"}),m.jsx("path",{d:"M75 160 Q90 160 90 145",fill:"none",stroke:"currentColor",strokeWidth:"3"})]}),m.jsxs("svg",{className:"puddle puddle-1",viewBox:"0 0 150 50",children:[m.jsx("ellipse",{cx:"75",cy:"25",rx:"70",ry:"20",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("ellipse",{cx:"50",cy:"25",rx:"15",ry:"5",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"ripple"}),m.jsx("ellipse",{cx:"90",cy:"28",rx:"12",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"ripple ripple-delay"})]}),m.jsxs("svg",{className:"puddle puddle-2",viewBox:"0 0 120 40",children:[m.jsx("ellipse",{cx:"60",cy:"20",rx:"55",ry:"15",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("ellipse",{cx:"40",cy:"20",rx:"10",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"ripple"})]}),m.jsx("svg",{className:"lightning",viewBox:"0 0 50 100",children:m.jsx("path",{d:"M25 0 L15 40 L30 40 L20 100 L35 50 L20 50 L30 0",fill:"currentColor"})})]}),rm=({mousePos:s,theme:r})=>m.jsxs("div",{className:`theme-container ${r}-theme default-theme`,children:[m.jsx("div",{className:"default-decoration decoration-1",style:{transform:`translate(${s.x*.02}px, ${s.y*.02}px)`}}),m.jsx("div",{className:"default-decoration decoration-2",style:{transform:`translate(${s.x*-.015}px, ${s.y*-.015}px)`}}),m.jsx("div",{className:"default-decoration decoration-3",style:{transform:`translate(${s.x*.025}px, ${s.y*-.02}px)`}})]}),nm=({theme:s,mousePos:r})=>{switch(s){case"ocean":return m.jsx(Xp,{mousePos:r});case"garden":return m.jsx(Zp,{mousePos:r});case"space":return m.jsx(em,{mousePos:r});case"rainy":return m.jsx(tm,{mousePos:r});default:return m.jsx(rm,{mousePos:r,theme:s})}};function sm({onComplete:s}){const[r]=se.useState(Qp()),[n,o]=se.useState(0),[l,c]=se.useState({x:0,y:0}),[h,f]=se.useState(!1),g=se.useRef(null);se.useEffect(()=>{f(!0);const _=E=>{if(g.current){const S=g.current.getBoundingClientRect();c({x:(E.clientX-S.width/2)/10,y:(E.clientY-S.height/2)/10})}};return window.addEventListener("mousemove",_),()=>window.removeEventListener("mousemove",_)},[]),se.useEffect(()=>{const _=setInterval(()=>{o(E=>E>=100?(clearInterval(_),setTimeout(s,500),100):E+2)},100);return()=>clearInterval(_)},[s]);const y=r.theme!=="space";return m.jsxs("div",{ref:g,className:`splash-screen theme-${r.theme} ${h?"visible":""}`,style:{backgroundColor:r.bgColor},children:[m.jsx(nm,{theme:r.theme,mousePos:l}),m.jsxs("div",{className:`splash-content ${y?"light":"dark"}`,children:[m.jsxs("div",{className:"quote-card",children:[m.jsx("div",{className:"tape tape-left"}),m.jsx("div",{className:"tape tape-right"}),m.jsx("p",{className:"quote",children:r.quote})]}),m.jsx("p",{className:"date",children:Yp()}),m.jsxs("div",{className:"loading-section",children:[m.jsxs("div",{className:"loading-dots",children:[m.jsx("span",{className:"dot"}),m.jsx("span",{className:"dot"}),m.jsx("span",{className:"dot"})]}),m.jsx("div",{className:"loading-bar",children:m.jsx("div",{className:"loading-fill",style:{width:`${n}%`}})}),m.jsx("p",{className:"loading-text",children:"Opening your journal..."})]})]})]})}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ph=(...s)=>s.filter((r,n,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var om={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=se.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:h,...f},g)=>se.createElement("svg",{ref:g,...om,width:r,height:r,stroke:s,strokeWidth:o?Number(n)*24/Number(r):n,className:ph("lucide",l),...f},[...h.map(([y,_])=>se.createElement(y,_)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(s,r)=>{const n=se.forwardRef(({className:o,...l},c)=>se.createElement(am,{ref:c,iconNode:r,className:ph(`lucide-${im(s)}`,o),...l}));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=Pe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Pe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Pe("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Pe("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Pe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=Pe("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Pe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Pe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),_m={year:{bg:"#ffd6d6",border:"#e8a0a0"},month:{bg:"#ffecd6",border:"#e8c8a0"},goals:{bg:"#fffbd6",border:"#e8dea0"},reflections:{bg:"#e0ffd6",border:"#a8d890"},mood:{bg:"#d6f0ff",border:"#a0c8e0"},day:{bg:"#e8d6ff",border:"#c0a0d8"}};function km({currentView:s,setCurrentView:r,selectedDate:n,setSelectedDate:o}){const l=n.getFullYear(),c=f=>{const g=new Date(n);g.setFullYear(l+f),o(g)},h=[{id:"year",label:"Year",icon:mh},{id:"month",label:"Month",icon:cm},{id:"goals",label:"Goals",icon:vs},{id:"reflections",label:"Reflect",icon:js},{id:"mood",label:"Mood",icon:Ji},{id:"day",label:"Daily",icon:pm}];return m.jsxs("aside",{className:"sidebar",children:[m.jsxs("div",{className:"sidebar-header",children:[m.jsx("h1",{className:"journal-title",children:"My Journal"}),m.jsxs("div",{className:"year-selector",children:[m.jsx("button",{onClick:()=>c(-1),className:"year-btn","aria-label":"Previous year",children:m.jsx(bn,{size:16})}),m.jsx("span",{className:"year-display",children:l}),m.jsx("button",{onClick:()=>c(1),className:"year-btn","aria-label":"Next year",children:m.jsx(jn,{size:16})})]})]}),m.jsx("nav",{className:"planner-tabs",children:h.map((f,g)=>{const y=f.icon,_=s===f.id,E=_m[f.id];return m.jsxs("button",{className:`planner-tab ${_?"active":""}`,onClick:()=>r(f.id),style:{"--tab-bg":E.bg,"--tab-border":E.border,"--tab-offset":`${g*8}px`},children:[m.jsx("div",{className:"tab-notch"}),m.jsxs("div",{className:"tab-content",children:[m.jsx(y,{size:18,strokeWidth:2}),m.jsx("span",{className:"tab-label",children:f.label})]})]},f.id)})}),m.jsxs("div",{className:"sidebar-decoration",children:[m.jsx("div",{className:"binder-ring"}),m.jsx("div",{className:"binder-ring"}),m.jsx("div",{className:"binder-ring"})]})]})}function be(s){const r=Object.prototype.toString.call(s);return s instanceof Date||typeof s=="object"&&r==="[object Date]"?new s.constructor(+s):typeof s=="number"||r==="[object Number]"||typeof s=="string"||r==="[object String]"?new Date(s):new Date(NaN)}function At(s,r){return s instanceof Date?new s.constructor(r):new Date(r)}function vh(s,r){const n=be(s);return isNaN(r)?At(s,NaN):(r&&n.setDate(n.getDate()+r),n)}function xl(s,r){const n=be(s);if(isNaN(r))return At(s,NaN);if(!r)return n;const o=n.getDate(),l=At(s,n.getTime());l.setMonth(n.getMonth()+r+1,0);const c=l.getDate();return o>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),o),n)}const wh=6048e5,Sm=864e5;let xm={};function Qi(){return xm}function ws(s,r){var f,g,y,_;const n=Qi(),o=(r==null?void 0:r.weekStartsOn)??((g=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((_=(y=n.locale)==null?void 0:y.options)==null?void 0:_.weekStartsOn)??0,l=be(s),c=l.getDay(),h=(c<o?7:0)+c-o;return l.setDate(l.getDate()-h),l.setHours(0,0,0,0),l}function Fi(s){return ws(s,{weekStartsOn:1})}function _h(s){const r=be(s),n=r.getFullYear(),o=At(s,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const l=Fi(o),c=At(s,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const h=Fi(c);return r.getTime()>=l.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function qi(s){const r=be(s);return r.setHours(0,0,0,0),r}function Ld(s){const r=be(s),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+s-+n}function Em(s,r){const n=qi(s),o=qi(r),l=+n-Ld(n),c=+o-Ld(o);return Math.round((l-c)/Sm)}function bm(s){const r=_h(s),n=At(s,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Fi(n)}function jm(s){return At(s,Date.now())}function Tm(s,r){const n=qi(s),o=qi(r);return+n==+o}function Cm(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Om(s){if(!Cm(s)&&typeof s!="number")return!1;const r=be(s);return!isNaN(Number(r))}function El(s){const r=be(s),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function bl(s,r){const n=be(s.start),o=be(s.end);let l=+n>+o;const c=l?+n:+o,h=l?o:n;h.setHours(0,0,0,0);let f=1;const g=[];for(;+h<=c;)g.push(be(h)),h.setDate(h.getDate()+f),h.setHours(0,0,0,0);return l?g.reverse():g}function Nm(s,r){const n=be(s.start),o=be(s.end);let l=+n>+o;const c=l?+n:+o,h=l?o:n;h.setHours(0,0,0,0),h.setDate(1);let f=1;const g=[];for(;+h<=c;)g.push(be(h)),h.setMonth(h.getMonth()+f);return l?g.reverse():g}function jl(s){const r=be(s);return r.setDate(1),r.setHours(0,0,0,0),r}function Rm(s){const r=be(s),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function kh(s){const r=be(s),n=At(s,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Pm={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Am=(s,r,n)=>{let o;const l=Pm[s];return typeof l=="string"?o=l:r===1?o=l.one:o=l.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function Za(s){return(r={})=>{const n=r.width?String(r.width):s.defaultWidth;return s.formats[n]||s.formats[s.defaultWidth]}}const Im={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$m={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Mm={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dm={date:Za({formats:Im,defaultWidth:"full"}),time:Za({formats:$m,defaultWidth:"full"}),dateTime:Za({formats:Mm,defaultWidth:"full"})},Lm={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Um=(s,r,n,o)=>Lm[s];function fs(s){return(r,n)=>{const o=n!=null&&n.context?String(n.context):"standalone";let l;if(o==="formatting"&&s.formattingValues){const h=s.defaultFormattingWidth||s.defaultWidth,f=n!=null&&n.width?String(n.width):h;l=s.formattingValues[f]||s.formattingValues[h]}else{const h=s.defaultWidth,f=n!=null&&n.width?String(n.width):s.defaultWidth;l=s.values[f]||s.values[h]}const c=s.argumentCallback?s.argumentCallback(r):r;return l[c]}}const Wm={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zm={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bm={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fm={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hm=(s,r)=>{const n=Number(s),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Km={ordinalNumber:Hm,era:fs({values:Wm,defaultWidth:"wide"}),quarter:fs({values:zm,defaultWidth:"wide",argumentCallback:s=>s-1}),month:fs({values:Bm,defaultWidth:"wide"}),day:fs({values:Fm,defaultWidth:"wide"}),dayPeriod:fs({values:qm,defaultWidth:"wide",formattingValues:Vm,defaultFormattingWidth:"wide"})};function ps(s){return(r,n={})=>{const o=n.width,l=o&&s.matchPatterns[o]||s.matchPatterns[s.defaultMatchWidth],c=r.match(l);if(!c)return null;const h=c[0],f=o&&s.parsePatterns[o]||s.parsePatterns[s.defaultParseWidth],g=Array.isArray(f)?Jm(f,E=>E.test(h)):Gm(f,E=>E.test(h));let y;y=s.valueCallback?s.valueCallback(g):g,y=n.valueCallback?n.valueCallback(y):y;const _=r.slice(h.length);return{value:y,rest:_}}}function Gm(s,r){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&r(s[n]))return n}function Jm(s,r){for(let n=0;n<s.length;n++)if(r(s[n]))return n}function Qm(s){return(r,n={})=>{const o=r.match(s.matchPattern);if(!o)return null;const l=o[0],c=r.match(s.parsePattern);if(!c)return null;let h=s.valueCallback?s.valueCallback(c[0]):c[0];h=n.valueCallback?n.valueCallback(h):h;const f=r.slice(l.length);return{value:h,rest:f}}}const Ym=/^(\d+)(th|st|nd|rd)?/i,Xm=/\d+/i,Zm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eg={any:[/^b/i,/^(a|c)/i]},tg={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rg={any:[/1/i,/2/i,/3/i,/4/i]},ng={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sg={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ig={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},og={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ag={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lg={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ug={ordinalNumber:Qm({matchPattern:Ym,parsePattern:Xm,valueCallback:s=>parseInt(s,10)}),era:ps({matchPatterns:Zm,defaultMatchWidth:"wide",parsePatterns:eg,defaultParseWidth:"any"}),quarter:ps({matchPatterns:tg,defaultMatchWidth:"wide",parsePatterns:rg,defaultParseWidth:"any",valueCallback:s=>s+1}),month:ps({matchPatterns:ng,defaultMatchWidth:"wide",parsePatterns:sg,defaultParseWidth:"any"}),day:ps({matchPatterns:ig,defaultMatchWidth:"wide",parsePatterns:og,defaultParseWidth:"any"}),dayPeriod:ps({matchPatterns:ag,defaultMatchWidth:"any",parsePatterns:lg,defaultParseWidth:"any"})},cg={code:"en-US",formatDistance:Am,formatLong:Dm,formatRelative:Um,localize:Km,match:ug,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dg(s){const r=be(s);return Em(r,kh(r))+1}function hg(s){const r=be(s),n=+Fi(r)-+bm(r);return Math.round(n/wh)+1}function Sh(s,r){var _,E,S,C;const n=be(s),o=n.getFullYear(),l=Qi(),c=(r==null?void 0:r.firstWeekContainsDate)??((E=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)??l.firstWeekContainsDate??((C=(S=l.locale)==null?void 0:S.options)==null?void 0:C.firstWeekContainsDate)??1,h=At(s,0);h.setFullYear(o+1,0,c),h.setHours(0,0,0,0);const f=ws(h,r),g=At(s,0);g.setFullYear(o,0,c),g.setHours(0,0,0,0);const y=ws(g,r);return n.getTime()>=f.getTime()?o+1:n.getTime()>=y.getTime()?o:o-1}function fg(s,r){var f,g,y,_;const n=Qi(),o=(r==null?void 0:r.firstWeekContainsDate)??((g=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((_=(y=n.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,l=Sh(s,r),c=At(s,0);return c.setFullYear(l,0,o),c.setHours(0,0,0,0),ws(c,r)}function pg(s,r){const n=be(s),o=+ws(n,r)-+fg(n,r);return Math.round(o/wh)+1}function pe(s,r){const n=s<0?"-":"",o=Math.abs(s).toString().padStart(r,"0");return n+o}const yr={y(s,r){const n=s.getFullYear(),o=n>0?n:1-n;return pe(r==="yy"?o%100:o,r.length)},M(s,r){const n=s.getMonth();return r==="M"?String(n+1):pe(n+1,2)},d(s,r){return pe(s.getDate(),r.length)},a(s,r){const n=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(s,r){return pe(s.getHours()%12||12,r.length)},H(s,r){return pe(s.getHours(),r.length)},m(s,r){return pe(s.getMinutes(),r.length)},s(s,r){return pe(s.getSeconds(),r.length)},S(s,r){const n=r.length,o=s.getMilliseconds(),l=Math.trunc(o*Math.pow(10,n-3));return pe(l,r.length)}},fn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ud={G:function(s,r,n){const o=s.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(s,r,n){if(r==="yo"){const o=s.getFullYear(),l=o>0?o:1-o;return n.ordinalNumber(l,{unit:"year"})}return yr.y(s,r)},Y:function(s,r,n,o){const l=Sh(s,o),c=l>0?l:1-l;if(r==="YY"){const h=c%100;return pe(h,2)}return r==="Yo"?n.ordinalNumber(c,{unit:"year"}):pe(c,r.length)},R:function(s,r){const n=_h(s);return pe(n,r.length)},u:function(s,r){const n=s.getFullYear();return pe(n,r.length)},Q:function(s,r,n){const o=Math.ceil((s.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return pe(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(s,r,n){const o=Math.ceil((s.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return pe(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(s,r,n){const o=s.getMonth();switch(r){case"M":case"MM":return yr.M(s,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(s,r,n){const o=s.getMonth();switch(r){case"L":return String(o+1);case"LL":return pe(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(s,r,n,o){const l=pg(s,o);return r==="wo"?n.ordinalNumber(l,{unit:"week"}):pe(l,r.length)},I:function(s,r,n){const o=hg(s);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):pe(o,r.length)},d:function(s,r,n){return r==="do"?n.ordinalNumber(s.getDate(),{unit:"date"}):yr.d(s,r)},D:function(s,r,n){const o=dg(s);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):pe(o,r.length)},E:function(s,r,n){const o=s.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(s,r,n,o){const l=s.getDay(),c=(l-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(c);case"ee":return pe(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(s,r,n,o){const l=s.getDay(),c=(l-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(c);case"cc":return pe(c,r.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(s,r,n){const o=s.getDay(),l=o===0?7:o;switch(r){case"i":return String(l);case"ii":return pe(l,r.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(s,r,n){const l=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(s,r,n){const o=s.getHours();let l;switch(o===12?l=fn.noon:o===0?l=fn.midnight:l=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(s,r,n){const o=s.getHours();let l;switch(o>=17?l=fn.evening:o>=12?l=fn.afternoon:o>=4?l=fn.morning:l=fn.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(s,r,n){if(r==="ho"){let o=s.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return yr.h(s,r)},H:function(s,r,n){return r==="Ho"?n.ordinalNumber(s.getHours(),{unit:"hour"}):yr.H(s,r)},K:function(s,r,n){const o=s.getHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):pe(o,r.length)},k:function(s,r,n){let o=s.getHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):pe(o,r.length)},m:function(s,r,n){return r==="mo"?n.ordinalNumber(s.getMinutes(),{unit:"minute"}):yr.m(s,r)},s:function(s,r,n){return r==="so"?n.ordinalNumber(s.getSeconds(),{unit:"second"}):yr.s(s,r)},S:function(s,r){return yr.S(s,r)},X:function(s,r,n){const o=s.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return zd(o);case"XXXX":case"XX":return Mr(o);case"XXXXX":case"XXX":default:return Mr(o,":")}},x:function(s,r,n){const o=s.getTimezoneOffset();switch(r){case"x":return zd(o);case"xxxx":case"xx":return Mr(o);case"xxxxx":case"xxx":default:return Mr(o,":")}},O:function(s,r,n){const o=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Wd(o,":");case"OOOO":default:return"GMT"+Mr(o,":")}},z:function(s,r,n){const o=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Wd(o,":");case"zzzz":default:return"GMT"+Mr(o,":")}},t:function(s,r,n){const o=Math.trunc(s.getTime()/1e3);return pe(o,r.length)},T:function(s,r,n){const o=s.getTime();return pe(o,r.length)}};function Wd(s,r=""){const n=s>0?"-":"+",o=Math.abs(s),l=Math.trunc(o/60),c=o%60;return c===0?n+String(l):n+String(l)+r+pe(c,2)}function zd(s,r){return s%60===0?(s>0?"-":"+")+pe(Math.abs(s)/60,2):Mr(s,r)}function Mr(s,r=""){const n=s>0?"-":"+",o=Math.abs(s),l=pe(Math.trunc(o/60),2),c=pe(o%60,2);return n+l+r+c}const Bd=(s,r)=>{switch(s){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},xh=(s,r)=>{switch(s){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},mg=(s,r)=>{const n=s.match(/(P+)(p+)?/)||[],o=n[1],l=n[2];if(!l)return Bd(s,r);let c;switch(o){case"P":c=r.dateTime({width:"short"});break;case"PP":c=r.dateTime({width:"medium"});break;case"PPP":c=r.dateTime({width:"long"});break;case"PPPP":default:c=r.dateTime({width:"full"});break}return c.replace("{{date}}",Bd(o,r)).replace("{{time}}",xh(l,r))},gg={p:xh,P:mg},yg=/^D+$/,vg=/^Y+$/,wg=["D","DD","YY","YYYY"];function _g(s){return yg.test(s)}function kg(s){return vg.test(s)}function Sg(s,r,n){const o=xg(s,r,n);if(console.warn(o),wg.includes(s))throw new RangeError(o)}function xg(s,r,n){const o=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${r}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Eg=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bg=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jg=/^'([^]*?)'?$/,Tg=/''/g,Cg=/[a-zA-Z]/;function He(s,r,n){var _,E,S,C;const o=Qi(),l=o.locale??cg,c=o.firstWeekContainsDate??((E=(_=o.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)??1,h=o.weekStartsOn??((C=(S=o.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,f=be(s);if(!Om(f))throw new RangeError("Invalid time value");let g=r.match(bg).map(O=>{const N=O[0];if(N==="p"||N==="P"){const P=gg[N];return P(O,l.formatLong)}return O}).join("").match(Eg).map(O=>{if(O==="''")return{isToken:!1,value:"'"};const N=O[0];if(N==="'")return{isToken:!1,value:Og(O)};if(Ud[N])return{isToken:!0,value:O};if(N.match(Cg))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:O}});l.localize.preprocessor&&(g=l.localize.preprocessor(f,g));const y={firstWeekContainsDate:c,weekStartsOn:h,locale:l};return g.map(O=>{if(!O.isToken)return O.value;const N=O.value;(kg(N)||_g(N))&&Sg(N,r,String(s));const P=Ud[N[0]];return P(f,N,l.localize,y)}).join("")}function Og(s){const r=s.match(jg);return r?r[1].replace(Tg,"'"):s}function Tl(s){return be(s).getDay()}function Cl(s){return Tm(s,jm(s))}function Ng(s,r){return vh(s,-1)}function Eh(s,r){return xl(s,-1)}const Rg={amazing:"#10b981",good:"#84cc16",okay:"#facc15",meh:"#fb923c",bad:"#ef4444"};function Pg({selectedDate:s,onDateSelect:r,journalData:n}){const o=s.getFullYear(),l=kh(new Date(o,0,1)),c=Rm(new Date(o,0,1)),h=Nm({start:l,end:c}),f=["M","T","W","T","F","S","S"],g=_=>{const E=_.toISOString().split("T")[0];return n[E]},y=_=>{const E=Tl(_);return E===0?6:E-1};return m.jsxs("div",{className:"year-at-glance",children:[m.jsxs("div",{className:"year-header",children:[m.jsx("div",{className:"tape tape-left"}),m.jsxs("div",{className:"header-content",children:[m.jsx("span",{className:"year-number",children:o}),m.jsx("h2",{children:"overview"})]}),m.jsx("div",{className:"tape tape-right"})]}),m.jsx("div",{className:"months-grid",children:h.map(_=>{const E=jl(_),S=El(_),C=bl({start:E,end:S}),O=y(E);return m.jsxs("div",{className:"month-card",children:[m.jsx("h3",{className:"month-name",children:He(_,"MMM").toUpperCase()}),m.jsx("div",{className:"weekday-headers",children:f.map((N,P)=>m.jsx("span",{className:"weekday",children:N},P))}),m.jsxs("div",{className:"days-grid",children:[Array.from({length:O}).map((N,P)=>m.jsx("div",{className:"day-cell empty"},`empty-${P}`)),C.map(N=>{var x;const P=g(N),U=P==null?void 0:P.mood,A=(x=P==null?void 0:P.notes)==null?void 0:x.trim();return m.jsx("button",{className:`day-cell ${Cl(N)?"today":""} ${A?"has-notes":""}`,onClick:()=>r(N),style:U?{backgroundColor:Rg[P.mood],color:"white"}:{},title:He(N,"MMM d"),children:m.jsx("span",{className:"day-number",children:He(N,"d")})},N.toISOString())})]})]},_.toISOString())})})]})}function Ag({selectedDate:s,setSelectedDate:r,journalData:n,onSaveDay:o,getDateKey:l}){const[c,h]=se.useState(()=>{const A=`planner-notes-${He(s,"yyyy-MM")}`;return localStorage.getItem(A)||""}),[f,g]=se.useState({});s.getMonth();const y=jl(s),_=El(s),E=bl({start:y,end:_}),S=A=>{const x=Tl(A);return x===0?6:x-1},C=S(y);se.useEffect(()=>{const A={};E.forEach(x=>{var J;const I=l(x);(J=n[I])!=null&&J.plannerNote&&(A[I]=n[I].plannerNote)}),g(A)},[s,n]),se.useEffect(()=>{const A=`planner-notes-${He(s,"yyyy-MM")}`;localStorage.setItem(A,c)},[c,s]),se.useEffect(()=>{const A=`planner-notes-${He(s,"yyyy-MM")}`;h(localStorage.getItem(A)||"")},[s]);const O=A=>{const x=A>0?xl(s,1):Eh(s);r(x)},N=(A,x)=>{g(J=>({...J,[A]:x}));const I=n[A]||{};o(A,{...I,plannerNote:x})},U=(()=>{const A=[];let x={left:[],right:[]};for(let I=0;I<C;I++)I<4?x.left.push(null):x.right.push(null);return E.forEach((I,J)=>{const K=S(I);K===0&&J!==0&&(A.push(x),x={left:[],right:[]}),K<4?x.left.push(I):x.right.push(I)}),(x.left.length>0||x.right.length>0)&&A.push(x),A})();return m.jsxs("div",{className:"monthly-planner",children:[m.jsxs("div",{className:"binder-rings",children:[m.jsx("div",{className:"ring"}),m.jsx("div",{className:"ring"}),m.jsx("div",{className:"ring"})]}),m.jsxs("div",{className:"planner-header",children:[m.jsx("button",{onClick:()=>O(-1),className:"month-nav-btn",children:m.jsx(bn,{size:24})}),m.jsx("h1",{className:"month-title",children:He(s,"MMMM")}),m.jsx("button",{onClick:()=>O(1),className:"month-nav-btn",children:m.jsx(jn,{size:24})})]}),m.jsxs("div",{className:"planner-spread",children:[m.jsxs("div",{className:"planner-page left-page",children:[m.jsxs("div",{className:"weekday-headers",children:[m.jsx("span",{children:"MON"}),m.jsx("span",{children:"TUE"}),m.jsx("span",{children:"WED"}),m.jsx("span",{children:"THU"})]}),m.jsx("div",{className:"days-grid left-grid",children:U.map((A,x)=>A.left.map((I,J)=>m.jsx("div",{className:`day-cell ${I?"":"empty"} ${I&&He(I,"yyyy-MM-dd")===He(new Date,"yyyy-MM-dd")?"today":""}`,children:I&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"day-number",children:He(I,"d")}),m.jsx("textarea",{className:"day-input",value:f[l(I)]||"",onChange:K=>N(l(I),K.target.value)})]})},`left-${x}-${J}`))).flat()})]}),m.jsx("div",{className:"planner-page right-page",children:m.jsxs("div",{className:"right-content",children:[m.jsxs("div",{className:"weekend-section",children:[m.jsxs("div",{className:"weekday-headers weekend-headers",children:[m.jsx("span",{children:"FRI"}),m.jsx("span",{children:"SAT"}),m.jsx("span",{children:"SUN"})]}),m.jsx("div",{className:"days-grid right-grid",children:U.map((A,x)=>A.right.map((I,J)=>m.jsx("div",{className:`day-cell ${I?"":"empty"} ${I&&He(I,"yyyy-MM-dd")===He(new Date,"yyyy-MM-dd")?"today":""}`,children:I&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"day-number",children:He(I,"d")}),m.jsx("textarea",{className:"day-input",value:f[l(I)]||"",onChange:K=>N(l(I),K.target.value)})]})},`right-${x}-${J}`))).flat()})]}),m.jsxs("div",{className:"notes-section",children:[m.jsx("div",{className:"notes-header",children:"NOTES"}),m.jsx("textarea",{className:"notes-input",value:c,onChange:A=>h(A.target.value),placeholder:"Monthly notes..."})]})]})})]}),m.jsx("div",{className:"page-fold"})]})}const el=[{id:"amazing",label:"Amazing",icon:js,color:"#10b981"},{id:"good",label:"Good",icon:Gi,color:"#84cc16"},{id:"okay",label:"Okay",icon:Ji,color:"#facc15"},{id:"meh",label:"Meh",icon:yh,color:"#fb923c"},{id:"bad",label:"Bad",icon:gh,color:"#ef4444"}];function Ig({selectedDate:s,setSelectedDate:r,journalData:n,onSaveDay:o,getDateKey:l}){const[c,h]=se.useState(s),f=jl(c),g=El(c),y=bl({start:f,end:g}),_=Tl(f),E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],S=(P,U)=>{const A=l(P),x=n[A]||{};o(A,{...x,mood:x.mood===U?null:U})},O=(()=>{const P={amazing:0,good:0,okay:0,meh:0,bad:0};return y.forEach(U=>{const A=n[l(U)];A!=null&&A.mood&&P[A.mood]++}),P})(),N=Object.values(O).reduce((P,U)=>P+U,0);return m.jsxs("div",{className:"mood-tracker",children:[m.jsxs("div",{className:"mood-header",children:[m.jsx("h2",{children:"Mood Tracker"}),m.jsx("p",{className:"mood-subtitle",children:"Track how you feel each day"})]}),m.jsxs("div",{className:"mood-content",children:[m.jsxs("div",{className:"calendar-section",children:[m.jsxs("div",{className:"month-nav",children:[m.jsx("button",{onClick:()=>h(Eh(c)),className:"month-nav-btn",children:m.jsx(bn,{size:20})}),m.jsx("h3",{children:He(c,"MMMM yyyy")}),m.jsx("button",{onClick:()=>h(xl(c,1)),className:"month-nav-btn",children:m.jsx(jn,{size:20})})]}),m.jsxs("div",{className:"mood-calendar",children:[m.jsx("div",{className:"weekday-row",children:E.map(P=>m.jsx("div",{className:"weekday-cell",children:P},P))}),m.jsxs("div",{className:"mood-days",children:[Array.from({length:_}).map((P,U)=>m.jsx("div",{className:"mood-day empty"},`empty-${U}`)),y.map(P=>{const U=l(P),A=n[U];return el.find(x=>x.id===(A==null?void 0:A.mood)),m.jsxs("div",{className:`mood-day ${Cl(P)?"today":""}`,children:[m.jsx("span",{className:"mood-day-number",children:He(P,"d")}),m.jsx("div",{className:"mood-buttons",children:el.map(x=>{const I=x.icon,J=(A==null?void 0:A.mood)===x.id;return m.jsx("button",{className:`mood-btn ${J?"selected":""}`,style:J?{backgroundColor:x.color}:{},onClick:()=>S(P,x.id),title:x.label,children:m.jsx(I,{size:14})},x.id)})})]},U)})]})]})]}),m.jsxs("div",{className:"stats-section",children:[m.jsx("h3",{children:"Monthly Stats"}),m.jsx("div",{className:"stats-summary",children:m.jsxs("div",{className:"stat-total",children:[m.jsx("span",{className:"stat-number",children:N}),m.jsx("span",{className:"stat-label",children:"days tracked"})]})}),m.jsx("div",{className:"mood-stats",children:el.map(P=>{const U=O[P.id],A=N>0?U/N*100:0,x=P.icon;return m.jsxs("div",{className:"stat-row",children:[m.jsxs("div",{className:"stat-mood",children:[m.jsx("div",{className:"stat-icon",style:{backgroundColor:P.color},children:m.jsx(x,{size:16})}),m.jsx("span",{children:P.label})]}),m.jsx("div",{className:"stat-bar-container",children:m.jsx("div",{className:"stat-bar",style:{width:`${A}%`,backgroundColor:P.color}})}),m.jsx("span",{className:"stat-count",children:U})]},P.id)})})]})]})]})}const $g=[{id:"amazing",label:"Amazing",icon:js,color:"#10b981"},{id:"good",label:"Good",icon:Gi,color:"#84cc16"},{id:"okay",label:"Okay",icon:Ji,color:"#facc15"},{id:"meh",label:"Meh",icon:yh,color:"#fb923c"},{id:"bad",label:"Bad",icon:gh,color:"#ef4444"}];function Mg({selectedDate:s,setSelectedDate:r,journalData:n,onSaveDay:o,getDateKey:l}){const c=l(s),h=n[c]||{},[f,g]=se.useState(h.notes||""),[y,_]=se.useState(h.gratitude||""),[E,S]=se.useState(h.goals||""),[C,O]=se.useState(h.mood||null),[N,P]=se.useState(!1);se.useEffect(()=>{const x=n[c]||{};g(x.notes||""),_(x.gratitude||""),S(x.goals||""),O(x.mood||null),P(!1)},[c,n]);const U=()=>{o(c,{notes:f,gratitude:y,goals:E,mood:C}),P(!0),setTimeout(()=>P(!1),2e3)},A=()=>{r(new Date)};return m.jsxs("div",{className:"day-view",children:[m.jsxs("div",{className:"day-header",children:[m.jsx("button",{onClick:()=>r(Ng(s)),className:"day-nav-btn",children:m.jsx(bn,{size:20})}),m.jsxs("div",{className:"day-info",children:[m.jsx("h2",{children:He(s,"EEEE")}),m.jsx("p",{className:"day-date",children:He(s,"MMMM d, yyyy")}),!Cl(s)&&m.jsxs("button",{onClick:A,className:"today-btn",children:[m.jsx(mh,{size:14}),"Go to Today"]})]}),m.jsx("button",{onClick:()=>r(vh(s,1)),className:"day-nav-btn",children:m.jsx(jn,{size:20})})]}),m.jsxs("div",{className:"day-content",children:[m.jsxs("div",{className:"mood-section",children:[m.jsx("h3",{children:"How are you feeling today?"}),m.jsx("div",{className:"mood-selector",children:$g.map(x=>{const I=x.icon,J=C===x.id;return m.jsxs("button",{className:`mood-option ${J?"selected":""}`,style:J?{backgroundColor:x.color,borderColor:x.color}:{},onClick:()=>O(x.id),children:[m.jsx(I,{size:24}),m.jsx("span",{children:x.label})]},x.id)})})]}),m.jsxs("div",{className:"notes-grid",children:[m.jsxs("div",{className:"note-card gratitude-card",children:[m.jsx("h3",{children:"Gratitude"}),m.jsx("p",{className:"note-prompt",children:"What are you grateful for today?"}),m.jsx("textarea",{value:y,onChange:x=>_(x.target.value),placeholder:"I'm grateful for...",rows:4})]}),m.jsxs("div",{className:"note-card goals-card",children:[m.jsx("h3",{children:"Today's Goals"}),m.jsx("p",{className:"note-prompt",children:"What do you want to accomplish?"}),m.jsx("textarea",{value:E,onChange:x=>S(x.target.value),placeholder:"Today I want to...",rows:4})]})]}),m.jsxs("div",{className:"note-card main-notes",children:[m.jsx("h3",{children:"Daily Notes"}),m.jsx("p",{className:"note-prompt",children:"Write about your day, thoughts, or anything on your mind"}),m.jsx("textarea",{value:f,onChange:x=>g(x.target.value),placeholder:"Start writing...",rows:10})]}),m.jsxs("button",{onClick:U,className:`save-btn ${N?"saved":""}`,children:[m.jsx(ym,{size:18}),N?"Saved!":"Save Entry"]})]})]})}function Yi(s,r){var n={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(n[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(s);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(s,o[l])&&(n[o[l]]=s[o[l]]);return n}function Dg(s,r,n,o){function l(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function f(_){try{y(o.next(_))}catch(E){h(E)}}function g(_){try{y(o.throw(_))}catch(E){h(E)}}function y(_){_.done?c(_.value):l(_.value).then(f,g)}y((o=o.apply(s,r||[])).next())})}const Lg=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class Ol extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}}class Ug extends Ol{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Fd extends Ol{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class qd extends Ol{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var dl;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(dl||(dl={}));class Wg{constructor(r,{headers:n={},customFetch:o,region:l=dl.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=Lg(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Dg(this,arguments,void 0,function*(n,o={}){var l;let c,h;try{const{headers:f,method:g,body:y,signal:_,timeout:E}=o;let S={},{region:C}=o;C||(C=this.region);const O=new URL(`${this.url}/${n}`);C&&C!=="any"&&(S["x-region"]=C,O.searchParams.set("forceFunctionRegion",C));let N;y&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",N=y):typeof y=="string"?(S["Content-Type"]="text/plain",N=y):typeof FormData<"u"&&y instanceof FormData?N=y:(S["Content-Type"]="application/json",N=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?N=JSON.stringify(y):N=y;let P=_;E&&(h=new AbortController,c=setTimeout(()=>h.abort(),E),_?(P=h.signal,_.addEventListener("abort",()=>h.abort())):P=h.signal);const U=yield this.fetch(O.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),f),body:N,signal:P}).catch(J=>{throw new Ug(J)}),A=U.headers.get("x-relay-error");if(A&&A==="true")throw new Fd(U);if(!U.ok)throw new qd(U);let x=((l=U.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),I;return x==="application/json"?I=yield U.json():x==="application/octet-stream"||x==="application/pdf"?I=yield U.blob():x==="text/event-stream"?I=U:x==="multipart/form-data"?I=yield U.formData():I=yield U.text(),{data:I,error:null,response:U}}catch(f){return{data:null,error:f,response:f instanceof qd||f instanceof Fd?f.context:void 0}}finally{c&&clearTimeout(c)}})}}var zg=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Bg=class{constructor(s){var r,n;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(n=s.isMaybeSingle)!==null&&n!==void 0?n:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let h=null,f=null,g=null,y=c.status,_=c.statusText;if(c.ok){var E,S;if(n.method!=="HEAD"){var C;const U=await c.text();U===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((C=n.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?f=U:f=JSON.parse(U))}const N=(E=n.headers.get("Prefer"))===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),P=(S=c.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");N&&P&&P.length>1&&(g=parseInt(P[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,y=406,_="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var O;const N=await c.text();try{h=JSON.parse(N),Array.isArray(h)&&c.status===404&&(f=[],h=null,y=200,_="OK")}catch{c.status===404&&N===""?(y=204,_="No Content"):h={message:N}}if(h&&n.isMaybeSingle&&(!(h==null||(O=h.details)===null||O===void 0)&&O.includes("0 rows"))&&(h=null,y=200,_="OK"),h&&n.shouldThrowOnError)throw new zg(h)}return{error:h,data:f,count:g,status:y,statusText:_}});return this.shouldThrowOnError||(l=l.catch(c=>{var h;let f="";const g=c==null?void 0:c.cause;if(g){var y,_,E,S;const O=(y=g==null?void 0:g.message)!==null&&y!==void 0?y:"",N=(_=g==null?void 0:g.code)!==null&&_!==void 0?_:"";f=`${(E=c==null?void 0:c.name)!==null&&E!==void 0?E:"FetchError"}: ${c==null?void 0:c.message}`,f+=`

Caused by: ${(S=g==null?void 0:g.name)!==null&&S!==void 0?S:"Error"}: ${O}`,N&&(f+=` (${N})`),g!=null&&g.stack&&(f+=`
${g.stack}`)}else{var C;f=(C=c==null?void 0:c.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,r)}returns(){return this}overrideTypes(){return this}},Fg=class extends Bg{select(s){let r=!1;const n=(s??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:r=!0,nullsFirst:n,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${s}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,r,{foreignTable:n,referencedTable:o=n}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:r=!1,settings:n=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var h;const f=[s?"analyze":null,r?"verbose":null,n?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${g}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Vd=new RegExp("[,()]");var _n=class extends Fg{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}regexMatch(s,r){return this.url.searchParams.append(s,`match.${r}`),this}regexIMatch(s,r){return this.url.searchParams.append(s,`imatch.${r}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}isDistinct(s,r){return this.url.searchParams.append(s,`isdistinct.${r}`),this}in(s,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&Vd.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}notIn(s,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&Vd.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`not.in.(${n})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:n,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${l}fts${c}.${r}`),this}match(s){return Object.entries(s).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(s,r,n){return this.url.searchParams.append(s,`not.${r}.${n}`),this}or(s,{foreignTable:r,referencedTable:n=r}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,r,n){return this.url.searchParams.append(s,`${r}.${n}`),this}},qg=class{constructor(s,{headers:r={},schema:n,fetch:o}){this.url=s,this.headers=new Headers(r),this.schema=n,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,r){const{head:n=!1,count:o}=r??{},l=n?"HEAD":"GET";let c=!1;const h=(s??"*").split("").map(y=>/\s/.test(y)&&!c?"":(y==='"'&&(c=!c),y)).join(""),{url:f,headers:g}=this.cloneRequestState();return f.searchParams.set("select",h),o&&g.append("Prefer",`count=${o}`),new _n({method:l,url:f,headers:g,schema:this.schema,fetch:this.fetch})}insert(s,{count:r,defaultToNull:n=!0}={}){var o;const l="POST",{url:c,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),n||h.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(f.length>0){const g=[...new Set(f)].map(y=>`"${y}"`);c.searchParams.set("columns",g.join(","))}}return new _n({method:l,url:c,headers:h,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:r,ignoreDuplicates:n=!1,count:o,defaultToNull:l=!0}={}){var c;const h="POST",{url:f,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&f.searchParams.set("on_conflict",r),o&&g.append("Prefer",`count=${o}`),l||g.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((_,E)=>_.concat(Object.keys(E)),[]);if(y.length>0){const _=[...new Set(y)].map(E=>`"${E}"`);f.searchParams.set("columns",_.join(","))}}return new _n({method:h,url:f,headers:g,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:r}={}){var n;const o="PATCH",{url:l,headers:c}=this.cloneRequestState();return r&&c.append("Prefer",`count=${r}`),new _n({method:o,url:l,headers:c,schema:this.schema,body:s,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:s}={}){var r;const n="DELETE",{url:o,headers:l}=this.cloneRequestState();return s&&l.append("Prefer",`count=${s}`),new _n({method:n,url:o,headers:l,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},Vg=class bh{constructor(r,{headers:n={},schema:o,fetch:l}={}){this.url=r,this.headers=new Headers(n),this.schemaName=o,this.fetch=l}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new qg(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new bh(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,n={},{head:o=!1,get:l=!1,count:c}={}){var h;let f;const g=new URL(`${this.url}/rpc/${r}`);let y;const _=C=>C!==null&&typeof C=="object"&&(!Array.isArray(C)||C.some(_)),E=o&&Object.values(n).some(_);E?(f="POST",y=n):o||l?(f=o?"HEAD":"GET",Object.entries(n).filter(([C,O])=>O!==void 0).map(([C,O])=>[C,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([C,O])=>{g.searchParams.append(C,O)})):(f="POST",y=n);const S=new Headers(this.headers);return E?S.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&S.set("Prefer",`count=${c}`),new _n({method:f,url:g,headers:S,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class Hg{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const o=n.versions;if(o&&o.node){const l=o.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Kg="2.90.1",Gg=`realtime-js/${Kg}`,jh="1.0.0",Jg="2.0.0",Hd=jh,hl=1e4,Qg=1e3,Yg=100;var vr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(vr||(vr={}));var De;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(De||(De={}));var Pt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Pt||(Pt={}));var fl;(function(s){s.websocket="websocket"})(fl||(fl={}));var Lr;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Lr||(Lr={}));class Xg{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,n,o){var l,c;const h=r.topic,f=(l=r.ref)!==null&&l!==void 0?l:"",g=(c=r.join_ref)!==null&&c!==void 0?c:"",y=r.payload.event,_=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},E=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`metadata length ${E.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+f.length+h.length+y.length+E.length,C=new ArrayBuffer(this.HEADER_LENGTH+S);let O=new DataView(C),N=0;O.setUint8(N++,this.KINDS.userBroadcastPush),O.setUint8(N++,g.length),O.setUint8(N++,f.length),O.setUint8(N++,h.length),O.setUint8(N++,y.length),O.setUint8(N++,E.length),O.setUint8(N++,n),Array.from(g,U=>O.setUint8(N++,U.charCodeAt(0))),Array.from(f,U=>O.setUint8(N++,U.charCodeAt(0))),Array.from(h,U=>O.setUint8(N++,U.charCodeAt(0))),Array.from(y,U=>O.setUint8(N++,U.charCodeAt(0))),Array.from(E,U=>O.setUint8(N++,U.charCodeAt(0)));var P=new Uint8Array(C.byteLength+o.byteLength);return P.set(new Uint8Array(C),0),P.set(new Uint8Array(o),C.byteLength),P.buffer}decode(r,n){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return n(o)}if(typeof r=="string"){const o=JSON.parse(r),[l,c,h,f,g]=o;return n({join_ref:l,ref:c,topic:h,event:f,payload:g})}return n({})}_binaryDecode(r){const n=new DataView(r),o=n.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,o){const l=n.getUint8(1),c=n.getUint8(2),h=n.getUint8(3),f=n.getUint8(4);let g=this.HEADER_LENGTH+4;const y=o.decode(r.slice(g,g+l));g=g+l;const _=o.decode(r.slice(g,g+c));g=g+c;const E=o.decode(r.slice(g,g+h));g=g+h;const S=r.slice(g,r.byteLength),C=f===this.JSON_ENCODING?JSON.parse(o.decode(S)):S,O={type:this.BROADCAST_EVENT,event:_,payload:C};return h>0&&(O.meta=JSON.parse(E)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>n.includes(o)))}}class Th{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ye;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ye||(ye={}));const Kd=(s,r,n={})=>{var o;const l=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=Zg(h,s,r,l),c),{}):{}},Zg=(s,r,n,o)=>{const l=r.find(f=>f.name===s),c=l==null?void 0:l.type,h=n[s];return c&&!o.includes(c)?Ch(c,h):pl(h)},Ch=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return ny(r,n)}switch(s){case ye.bool:return ey(r);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return ty(r);case ye.json:case ye.jsonb:return ry(r);case ye.timestamp:return sy(r);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return pl(r);default:return pl(r)}},pl=s=>s,ey=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},ty=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},ry=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},ny=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,o=s[n];if(s[0]==="{"&&o==="}"){let c;const h=s.slice(1,n);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(f=>Ch(r,f))}return s},sy=s=>typeof s=="string"?s.replace(" ","T"):s,Oh=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class tl{constructor(r,n,o={},l=hl){this.channel=r,this.event=n,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Gd;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Gd||(Gd={}));class gs{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:c,onLeave:h,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,l,c,h),this.pendingDiffs.forEach(g=>{this.state=gs.syncDiff(this.state,g,c,h)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},l=>{const{onJoin:c,onLeave:h,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=gs.syncDiff(this.state,l,c,h),f())}),this.onJoin((l,c,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:h})}),this.onLeave((l,c,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,l){const c=this.cloneDeep(r),h=this.transformState(n),f={},g={};return this.map(c,(y,_)=>{h[y]||(g[y]=_)}),this.map(h,(y,_)=>{const E=c[y];if(E){const S=_.map(P=>P.presence_ref),C=E.map(P=>P.presence_ref),O=_.filter(P=>C.indexOf(P.presence_ref)<0),N=E.filter(P=>S.indexOf(P.presence_ref)<0);O.length>0&&(f[y]=O),N.length>0&&(g[y]=N)}else f[y]=_}),this.syncDiff(c,{joins:f,leaves:g},o,l)}static syncDiff(r,n,o,l){const{joins:c,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(c,(f,g)=>{var y;const _=(y=r[f])!==null&&y!==void 0?y:[];if(r[f]=this.cloneDeep(g),_.length>0){const E=r[f].map(C=>C.presence_ref),S=_.filter(C=>E.indexOf(C.presence_ref)<0);r[f].unshift(...S)}o(f,_,g)}),this.map(h,(f,g)=>{let y=r[f];if(!y)return;const _=g.map(E=>E.presence_ref);y=y.filter(E=>_.indexOf(E.presence_ref)<0),r[f]=y,l(f,y,g),y.length===0&&delete r[f]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const l=r[o];return"metas"in l?n[o]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[o]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jd;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Jd||(Jd={}));var ys;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ys||(ys={}));var Qt;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Qt||(Qt={}));class xn{constructor(r,n={config:{}},o){var l,c;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new tl(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new Th(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(h,f)=>{this._trigger(this._replyEventName(f),h)}),this.presence=new gs(this),this.broadcastEndpointURL=Oh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:h,presence:f,private:g}}=this.params,y=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(C=>C.filter))!==null&&l!==void 0?l:[],_=!!this.bindings[ys.PRESENCE]&&this.bindings[ys.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,E={},S={broadcast:h,presence:Object.assign(Object.assign({},f),{enabled:_}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(C=>r==null?void 0:r(Qt.CHANNEL_ERROR,C)),this._onClose(()=>r==null?void 0:r(Qt.CLOSED)),this.updateJoinPayload(Object.assign({config:S},E)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:C})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){r==null||r(Qt.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,P=(O=N==null?void 0:N.length)!==null&&O!==void 0?O:0,U=[];for(let A=0;A<P;A++){const x=N[A],{filter:{event:I,schema:J,table:K,filter:ne}}=x,Oe=C&&C[A];if(Oe&&Oe.event===I&&xn.isFilterValueEqual(Oe.schema,J)&&xn.isFilterValueEqual(Oe.table,K)&&xn.isFilterValueEqual(Oe.filter,ne))U.push(Object.assign(Object.assign({},x),{id:Oe.id}));else{this.unsubscribe(),this.state=De.errored,r==null||r(Qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,r&&r(Qt.SUBSCRIBED);return}}).receive("error",C=>{this.state=De.errored,r==null||r(Qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===De.joined&&r===ys.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var l;if(n==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let g=f.statusText;try{const y=await f.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(r,n={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=r,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,f,g;const y=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=De.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new tl(this,Pt.leave,{},r),o.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const l=new AbortController,c=setTimeout(()=>l.abort(),o),h=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(c),h}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new tl(this,r,n,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Yg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var l,c;const h=r.toLocaleLowerCase(),{close:f,error:g,leave:y,join:_}=Pt;if(o&&[f,g,y,_].indexOf(h)>=0&&o!==this._joinRef())return;let S=this._onMessage(h,n,o);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(C=>{var O,N,P;return((O=C.filter)===null||O===void 0?void 0:O.event)==="*"||((P=(N=C.filter)===null||N===void 0?void 0:N.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===h}).map(C=>C.callback(S,o)):(c=this.bindings[h])===null||c===void 0||c.filter(C=>{var O,N,P,U,A,x,I,J;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in C){const K=C.id,ne=(O=C.filter)===null||O===void 0?void 0:O.event;return K&&((N=n.ids)===null||N===void 0?void 0:N.includes(K))&&(ne==="*"||(ne==null?void 0:ne.toLocaleLowerCase())===((P=n.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))&&(!(!((U=C.filter)===null||U===void 0)&&U.table)||C.filter.table===((A=n.data)===null||A===void 0?void 0:A.table))}else{const K=(I=(x=C==null?void 0:C.filter)===null||x===void 0?void 0:x.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return K==="*"||K===((J=n==null?void 0:n.event)===null||J===void 0?void 0:J.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===h}).map(C=>{if(typeof S=="object"&&"ids"in S){const O=S.data,{schema:N,table:P,commit_timestamp:U,type:A,errors:x}=O;S=Object.assign(Object.assign({},{schema:N,table:P,commit_timestamp:U,eventType:A,new:{},old:{},errors:x}),this._getPayloadRecords(O))}C.callback(S,o)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const l=r.toLocaleLowerCase(),c={type:l,filter:n,callback:o};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&xn.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Pt.close,{},r)}_onError(r){this._on(Pt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Kd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Kd(r.columns,r.old_record)),n}}const rl=()=>{},Ui={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},iy=[1e3,2e3,5e3,1e4],oy=1e4,ay=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ly{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hl,this.transport=null,this.heartbeatIntervalMs=Ui.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rl,this.ref=0,this.reconnectTimer=null,this.vsn=Hd,this.logger=rl,this.conn=null,this.sendBuffer=[],this.serializer=new Xg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${fl.websocket}`,this.httpEndpoint=Oh(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case vr.connecting:return Lr.Connecting;case vr.open:return Lr.Open;case vr.closing:return Lr.Closing;default:return Lr.Closed}}isConnected(){return this.connectionState()===Lr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(c=>c.topic===o);if(l)return l;{const c=new xn(`realtime:${r}`,n,this);return this.channels.push(c),c}}push(r){const{topic:n,event:o,payload:l,ref:c}=r,h=()=>{this.encode(r,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${n} ${o} (${c})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Qg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ui.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",y)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:l,payload:c,ref:h}=n,f=h?`(${h})`:"",g=c.status||"";this.log("receive",`${g} ${o} ${l} ${f}`.trim(),c),this.channels.filter(y=>y._isMember(o)).forEach(y=>y._trigger(l,c,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===vr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===vr.open||this.conn.readyState===vr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Pt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${o}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([ay],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,o=!1;if(r)n=r,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const c={access_token:n,version:Gg};n&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Pt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Th(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ui.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,l,c,h,f,g,y,_,E,S,C;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:hl,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:Ui.HEARTBEAT_INTERVAL,this.worker=(c=r==null?void 0:r.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(f=r==null?void 0:r.heartbeatCallback)!==null&&f!==void 0?f:rl,this.vsn=(g=r==null?void 0:r.vsn)!==null&&g!==void 0?g:Hd,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=r==null?void 0:r.reconnectAfterMs)!==null&&y!==void 0?y:(O=>iy[O-1]||oy),this.vsn){case jh:this.encode=(_=r==null?void 0:r.encode)!==null&&_!==void 0?_:((O,N)=>N(JSON.stringify(O))),this.decode=(E=r==null?void 0:r.decode)!==null&&E!==void 0?E:((O,N)=>N(JSON.parse(O)));break;case Jg:this.encode=(S=r==null?void 0:r.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(C=r==null?void 0:r.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var _s=class extends Error{constructor(s,r){var n;super(s),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uy(s,r,n){const o=new URL(r,s);if(n)for(const[l,c]of Object.entries(n))c!==void 0&&o.searchParams.set(l,c);return o.toString()}async function cy(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function dy(s){const r=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:l,body:c,headers:h}){const f=uy(s.baseUrl,o,l),g=await cy(s.auth),y=await r(f,{method:n,headers:{...c?{"Content-Type":"application/json"}:{},...g,...h},body:c?JSON.stringify(c):void 0}),_=await y.text(),E=(y.headers.get("content-type")||"").includes("application/json"),S=E&&_?JSON.parse(_):_;if(!y.ok){const C=E?S:void 0,O=C==null?void 0:C.error;throw new _s((O==null?void 0:O.message)??`Request failed with status ${y.status}`,{status:y.status,icebergType:O==null?void 0:O.type,icebergCode:O==null?void 0:O.code,details:C})}return{status:y.status,headers:y.headers,data:S}}}}function Wi(s){return s.join("")}var hy=class{constructor(s,r=""){this.client=s,this.prefix=r}async listNamespaces(s){const r=s?{parent:Wi(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(s,r){const n={namespace:s.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wi(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wi(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wi(s.namespace)}`}),!0}catch(r){if(r instanceof _s&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(s,r){try{return await this.createNamespace(s,r)}catch(n){if(n instanceof _s&&n.status===409)return;throw n}}};function pn(s){return s.join("")}var fy=class{constructor(s,r="",n){this.client=s,this.prefix=r,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pn(s.namespace)}/tables`})).data.identifiers}async createTable(s,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pn(s.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(s,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pn(s.namespace)}/tables/${s.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pn(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(s){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pn(s.namespace)}/tables/${s.name}`,headers:r})).data.metadata}async tableExists(s){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pn(s.namespace)}/tables/${s.name}`,headers:r}),!0}catch(n){if(n instanceof _s&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,r){try{return await this.createTable(s,r)}catch(n){if(n instanceof _s&&n.status===409)return await this.loadTable({namespace:s.namespace,name:r.name});throw n}}},py=class{constructor(s){var o;let r="v1";s.catalogName&&(r+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=dy({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(o=s.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new hy(this.client,r),this.tableOps=new fy(this.client,r,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,r){return this.namespaceOps.createNamespace(s,r)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,r){return this.tableOps.createTable(s,r)}async updateTable(s,r){return this.tableOps.updateTable(s,r)}async dropTable(s,r){await this.tableOps.dropTable(s,r)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,r){return this.namespaceOps.createNamespaceIfNotExists(s,r)}async createTableIfNotExists(s,r){return this.tableOps.createTableIfNotExists(s,r)}},Xi=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Ee(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var my=class extends Xi{constructor(s,r,n){super(s),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ml=class extends Xi{constructor(s,r){super(s),this.name="StorageUnknownError",this.originalError=r}};const Nl=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),gy=()=>Response,gl=s=>{if(Array.isArray(s))return s.map(n=>gl(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,o])=>{const l=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[l]=gl(o)}),r},yy=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},vy=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function ks(s){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ks(s)}function wy(s,r){if(ks(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,r);if(ks(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function _y(s){var r=wy(s,"string");return ks(r)=="symbol"?r:r+""}function ky(s,r,n){return(r=_y(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function Qd(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,o)}return n}function ee(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Qd(Object(n),!0).forEach(function(o){ky(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Qd(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}const nl=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},Sy=async(s,r,n)=>{s instanceof await gy()&&!(n!=null&&n.noResolveJson)?s.json().then(o=>{const l=s.status||500,c=(o==null?void 0:o.statusCode)||l+"";r(new my(nl(o),l,c))}).catch(o=>{r(new ml(nl(o),o))}):r(new ml(nl(s),s))},xy=(s,r,n,o)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"||!o?l:(yy(o)?(l.headers=ee({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,r!=null&&r.duplex&&(l.duplex=r.duplex),ee(ee({},l),n))};async function Ts(s,r,n,o,l,c){return new Promise((h,f)=>{s(n,xy(r,o,l,c)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>Sy(g,f,o))})}async function Ss(s,r,n,o){return Ts(s,"GET",r,n,o)}async function Rt(s,r,n,o,l){return Ts(s,"POST",r,o,l,n)}async function yl(s,r,n,o,l){return Ts(s,"PUT",r,o,l,n)}async function Ey(s,r,n,o){return Ts(s,"HEAD",r,ee(ee({},n),{},{noResolveJson:!0}),o)}async function Rl(s,r,n,o,l){return Ts(s,"DELETE",r,o,l,n)}var by=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r}then(s,r){return this.execute().then(s,r)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}}};let Nh;Nh=Symbol.toStringTag;var jy=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r,this[Nh]="BlobDownloadBuilder",this.promise=null}asStream(){return new by(this.downloadFn,this.shouldThrowOnError)}then(s,r){return this.getPromise().then(s,r)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ee(r))return{data:null,error:r};throw r}}};const Ty={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Cy=class{constructor(s,r={},n,o){this.shouldThrowOnError=!1,this.url=s,this.headers=r,this.bucketId=n,this.fetch=Nl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,r,n,o){var l=this;try{let c;const h=ee(ee({},Yd),o);let f=ee(ee({},l.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",l.encodeMetadata(g)),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),g&&!c.has("metadata")&&c.append("metadata",l.encodeMetadata(g))):(c=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType,g&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),o!=null&&o.headers&&(f=ee(ee({},f),o.headers));const y=l._removeEmptyFolders(r),_=l._getFinalPath(y),E=await(s=="PUT"?yl:Rt)(l.fetch,`${l.url}/object/${_}`,c,ee({headers:f},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:E.Id,fullPath:E.Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ee(c))return{data:null,error:c};throw c}}async upload(s,r,n){return this.uploadOrUpdate("POST",s,r,n)}async uploadToSignedUrl(s,r,n,o){var l=this;const c=l._removeEmptyFolders(s),h=l._getFinalPath(c),f=new URL(l.url+`/object/upload/sign/${h}`);f.searchParams.set("token",r);try{let g;const y=ee({upsert:Yd.upsert},o),_=ee(ee({},l.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&n instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",n)):typeof FormData<"u"&&n instanceof FormData?(g=n,g.append("cacheControl",y.cacheControl)):(g=n,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType),{data:{path:c,fullPath:(await yl(l.fetch,f.toString(),g,{headers:_})).Key},error:null}}catch(g){if(l.shouldThrowOnError)throw g;if(Ee(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(s,r){var n=this;try{let o=n._getFinalPath(s);const l=ee({},n.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const c=await Rt(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:l}),h=new URL(n.url+c.url),f=h.searchParams.get("token");if(!f)throw new Xi("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:f},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}}async update(s,r,n){return this.uploadOrUpdate("PUT",s,r,n)}async move(s,r,n){var o=this;try{return{data:await Rt(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers}),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ee(l))return{data:null,error:l};throw l}}async copy(s,r,n){var o=this;try{return{data:{path:(await Rt(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers})).Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ee(l))return{data:null,error:l};throw l}}async createSignedUrl(s,r,n){var o=this;try{let l=o._getFinalPath(s),c=await Rt(o.fetch,`${o.url}/object/sign/${l}`,ee({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:o.headers});const h=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return c={signedUrl:encodeURI(`${o.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ee(l))return{data:null,error:l};throw l}}async createSignedUrls(s,r,n){var o=this;try{const l=await Rt(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:r,paths:s},{headers:o.headers}),c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:l.map(h=>ee(ee({},h),{},{signedUrl:h.signedURL?encodeURI(`${o.url}${h.signedURL}${c}`):null})),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ee(l))return{data:null,error:l};throw l}}download(s,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(s),h=()=>Ss(this.fetch,`${this.url}/${n}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new jy(h,this.shouldThrowOnError)}async info(s){var r=this;const n=r._getFinalPath(s);try{return{data:gl(await Ss(r.fetch,`${r.url}/object/info/${n}`,{headers:r.headers})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}}async exists(s){var r=this;const n=r._getFinalPath(s);try{return await Ey(r.fetch,`${r.url}/object/${n}`,{headers:r.headers}),{data:!0,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ee(o)&&o instanceof ml){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}}getPublicUrl(s,r){const n=this._getFinalPath(s),o=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&o.push(h);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${f}`)}}}async remove(s){var r=this;try{return{data:await Rl(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}async list(s,r,n){var o=this;try{const l=ee(ee(ee({},Ty),r),{},{prefix:s||""});return{data:await Rt(o.fetch,`${o.url}/object/list/${o.bucketId}`,l,{headers:o.headers},n),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ee(l))return{data:null,error:l};throw l}}async listV2(s,r){var n=this;try{const o=ee({},s);return{data:await Rt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},r),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}};const Rh="2.90.1",Ph={"X-Client-Info":`storage-js/${Rh}`};var Oy=class{constructor(s,r={},n,o){this.shouldThrowOnError=!1;const l=new URL(s);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=ee(ee({},Ph),r),this.fetch=Nl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var r=this;try{const n=r.listBucketOptionsToQueryString(s);return{data:await Ss(r.fetch,`${r.url}/bucket${n}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}async getBucket(s){var r=this;try{return{data:await Ss(r.fetch,`${r.url}/bucket/${s}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}async createBucket(s,r={public:!1}){var n=this;try{return{data:await Rt(n.fetch,`${n.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}}async updateBucket(s,r){var n=this;try{return{data:await yl(n.fetch,`${n.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}}async emptyBucket(s){var r=this;try{return{data:await Rt(r.fetch,`${r.url}/bucket/${s}/empty`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await Rl(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(s){const r={};return s&&("limit"in s&&(r.limit=String(s.limit)),"offset"in s&&(r.offset=String(s.offset)),s.search&&(r.search=s.search),s.sortColumn&&(r.sortColumn=s.sortColumn),s.sortOrder&&(r.sortOrder=s.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},Ny=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ee(ee({},Ph),r),this.fetch=Nl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await Rt(r.fetch,`${r.url}/bucket`,{name:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}async listBuckets(s){var r=this;try{const n=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&n.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&n.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&n.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&n.set("sortOrder",s.sortOrder),s!=null&&s.search&&n.set("search",s.search);const o=n.toString(),l=o?`${r.url}/bucket?${o}`:`${r.url}/bucket`;return{data:await Ss(r.fetch,l,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await Rl(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ee(n))return{data:null,error:n};throw n}}from(s){var r=this;if(!vy(s))throw new Xi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new py({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(l,c){const h=l[c];return typeof h!="function"?h:async(...f)=>{try{return{data:await h.apply(l,f),error:null}}catch(g){if(o)throw g;return{data:null,error:g}}}}})}};const Pl={"X-Client-Info":`storage-js/${Rh}`,"Content-Type":"application/json"};var Ah=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function pt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var sl=class extends Ah{constructor(s,r,n){super(s),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ry=class extends Ah{constructor(s,r){super(s),this.name="StorageVectorsUnknownError",this.originalError=r}};const Al=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Py=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Xd=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Ay=async(s,r,n)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(n!=null&&n.noResolveJson)){const o=s.status||500,l=s;if(typeof l.json=="function")l.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||o+"";r(new sl(Xd(c),o,h))}).catch(()=>{const c=o+"";r(new sl(l.statusText||`HTTP ${o} error`,o,c))});else{const c=o+"";r(new sl(l.statusText||`HTTP ${o} error`,o,c))}}else r(new Ry(Xd(s),s))},Iy=(s,r,n,o)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return o?(Py(o)?(l.headers=ee({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,ee(ee({},l),n)):l};async function $y(s,r,n,o,l,c){return new Promise((h,f)=>{s(n,Iy(r,o,l,c)).then(g=>{if(!g.ok)throw g;if(o!=null&&o.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>h(g)).catch(g=>Ay(g,f,o))})}async function mt(s,r,n,o,l){return $y(s,"POST",r,o,l,n)}var My=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ee(ee({},Pl),r),this.fetch=Al(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var r=this;try{return{data:await mt(r.fetch,`${r.url}/CreateIndex`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async getIndex(s,r){var n=this;try{return{data:await mt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(pt(o))return{data:null,error:o};throw o}}async listIndexes(s){var r=this;try{return{data:await mt(r.fetch,`${r.url}/ListIndexes`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async deleteIndex(s,r){var n=this;try{return{data:await mt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers})||{},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(pt(o))return{data:null,error:o};throw o}}},Dy=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ee(ee({},Pl),r),this.fetch=Al(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var r=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await mt(r.fetch,`${r.url}/PutVectors`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async getVectors(s){var r=this;try{return{data:await mt(r.fetch,`${r.url}/GetVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async listVectors(s){var r=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await mt(r.fetch,`${r.url}/ListVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async queryVectors(s){var r=this;try{return{data:await mt(r.fetch,`${r.url}/QueryVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async deleteVectors(s){var r=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await mt(r.fetch,`${r.url}/DeleteVectors`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}},Ly=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ee(ee({},Pl),r),this.fetch=Al(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await mt(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async getBucket(s){var r=this;try{return{data:await mt(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async listBuckets(s={}){var r=this;try{return{data:await mt(r.fetch,`${r.url}/ListVectorBuckets`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await mt(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}},Uy=class extends Ly{constructor(s,r={}){super(s,r.headers||{},r.fetch)}from(s){return new Wy(this.url,this.headers,s,this.fetch)}async createBucket(s){var r=()=>super.createBucket,n=this;return r().call(n,s)}async getBucket(s){var r=()=>super.getBucket,n=this;return r().call(n,s)}async listBuckets(s={}){var r=()=>super.listBuckets,n=this;return r().call(n,s)}async deleteBucket(s){var r=()=>super.deleteBucket,n=this;return r().call(n,s)}},Wy=class extends My{constructor(s,r,n,o){super(s,r,o),this.vectorBucketName=n}async createIndex(s){var r=()=>super.createIndex,n=this;return r().call(n,ee(ee({},s),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(s={}){var r=()=>super.listIndexes,n=this;return r().call(n,ee(ee({},s),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(s){var r=()=>super.getIndex,n=this;return r().call(n,n.vectorBucketName,s)}async deleteIndex(s){var r=()=>super.deleteIndex,n=this;return r().call(n,n.vectorBucketName,s)}index(s){return new zy(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},zy=class extends Dy{constructor(s,r,n,o,l){super(s,r,l),this.vectorBucketName=n,this.indexName=o}async putVectors(s){var r=()=>super.putVectors,n=this;return r().call(n,ee(ee({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(s){var r=()=>super.getVectors,n=this;return r().call(n,ee(ee({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(s={}){var r=()=>super.listVectors,n=this;return r().call(n,ee(ee({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(s){var r=()=>super.queryVectors,n=this;return r().call(n,ee(ee({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(s){var r=()=>super.deleteVectors,n=this;return r().call(n,ee(ee({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},By=class extends Oy{constructor(s,r={},n,o){super(s,r,n,o)}from(s){return new Cy(this.url,this.headers,s,this.fetch)}get vectors(){return new Uy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ny(this.url+"/iceberg",this.headers,this.fetch)}};const Ih="2.90.1",kn=30*1e3,vl=3,il=vl*kn,Fy="http://localhost:9999",qy="supabase.auth.token",Vy={"X-Client-Info":`gotrue-js/${Ih}`},wl="X-Supabase-Api-Version",$h={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ky=600*1e3;class xs extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function Q(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Gy extends xs{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function Jy(s){return Q(s)&&s.name==="AuthApiError"}class Ur extends xs{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Yt extends xs{constructor(r,n,o,l){super(r,o,l),this.name=n,this.status=o}}class ft extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qy(s){return Q(s)&&s.name==="AuthSessionMissingError"}class mn extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zi extends Yt{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Bi extends Yt{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yy(s){return Q(s)&&s.name==="AuthImplicitGrantRedirectError"}class Zd extends Yt{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xy extends Yt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _l extends Yt{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function ol(s){return Q(s)&&s.name==="AuthRetryableFetchError"}class eh extends Yt{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class kl extends Yt{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),th=` 	
\r=`.split(""),Zy=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<th.length;r+=1)s[th[r].charCodeAt(0)]=-2;for(let r=0;r<Vi.length;r+=1)s[Vi[r].charCodeAt(0)]=r;return s})();function rh(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(Vi[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(Vi[o]),r.queuedBits-=6}}function Mh(s,r,n){const o=Zy[s];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function nh(s){const r=[],n=h=>{r.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=h=>{r0(h,o,n)};for(let h=0;h<s.length;h+=1)Mh(s.charCodeAt(h),l,c);return r.join("")}function e0(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function t0(s,r){for(let n=0;n<s.length;n+=1){let o=s.charCodeAt(n);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(s.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}e0(o,r)}}function r0(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let o=1;o<6;o+=1)if((s>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function En(s){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<s.length;l+=1)Mh(s.charCodeAt(l),n,o);return new Uint8Array(r)}function n0(s){const r=[];return t0(s,n=>r.push(n)),new Uint8Array(r)}function Wr(s){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};return s.forEach(l=>rh(l,n,o)),rh(null,n,o),r.join("")}function s0(s){return Math.round(Date.now()/1e3)+s}function i0(){return Symbol("auth-callback")}const Ve=()=>typeof window<"u"&&typeof document<"u",Ir={tested:!1,writable:!1},Dh=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ir.tested)return Ir.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Ir.tested=!0,Ir.writable=!0}catch{Ir.tested=!0,Ir.writable=!1}return Ir.writable};function o0(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,c)=>{r[c]=l})}catch{}return n.searchParams.forEach((o,l)=>{r[l]=o}),r}const Lh=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),a0=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Sn=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},$r=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qe=async(s,r)=>{await s.removeItem(r)};class Zi{constructor(){this.promise=new Zi.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}Zi.promiseConstructor=Promise;function al(s){const r=s.split(".");if(r.length!==3)throw new kl("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Hy.test(r[o]))throw new kl("JWT not in base64url format");return{header:JSON.parse(nh(r[0])),payload:JSON.parse(nh(r[1])),signature:En(r[2]),raw:{header:r[0],payload:r[1]}}}async function l0(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function u0(s,r){return new Promise((o,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await s(c);if(!r(c,null,h)){o(h);return}}catch(h){if(!r(c,h)){l(h);return}}})()})}function c0(s){return("0"+s.toString(16)).substr(-2)}function d0(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let l="";for(let c=0;c<56;c++)l+=n.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,c0).join("")}async function h0(s){const n=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(o);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function f0(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await h0(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gn(s,r,n=!1){const o=d0();let l=o;n&&(l+="/PASSWORD_RECOVERY"),await Sn(s,`${r}-code-verifier`,l);const c=await f0(o);return[c,o===c?"plain":"s256"]}const p0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function m0(s){const r=s.headers.get(wl);if(!r||!r.match(p0))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function g0(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function y0(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const v0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yn(s){if(!v0.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ll(){const s={};return new Proxy(s,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function w0(s,r){return new Proxy(s,{get:(n,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const c=o.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,l)}})}function sh(s){return JSON.parse(JSON.stringify(s))}const Dr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),_0=[502,503,504];async function ih(s){var r;if(!a0(s))throw new _l(Dr(s),0);if(_0.includes(s.status))throw new _l(Dr(s),s.status);let n;try{n=await s.json()}catch(c){throw new Ur(Dr(c),c)}let o;const l=m0(s);if(l&&l.getTime()>=$h["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new eh(Dr(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new ft}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new eh(Dr(n),s.status,n.weak_password.reasons);throw new Gy(Dr(n),s.status||500,o)}const k0=(s,r,n,o)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),n))};async function Z(s,r,n,o){var l;const c=Object.assign({},o==null?void 0:o.headers);c[wl]||(c[wl]=$h["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const h=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(h.redirect_to=o.redirectTo);const f=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await S0(s,r,n+f,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}}async function S0(s,r,n,o,l,c){const h=k0(r,o,l,c);let f;try{f=await s(n,Object.assign({},h))}catch(g){throw console.error(g),new _l(Dr(g),0)}if(f.ok||await ih(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(g){await ih(g)}}function Nt(s){var r;let n=null;b0(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=s0(s.expires_in)));const o=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:o},error:null}}function oh(s){const r=Nt(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=s.weak_password),r}function wr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function x0(s){return{data:s,error:null}}function E0(s){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:c}=s,h=Yi(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:c},g=Object.assign({},h);return{data:{properties:f,user:g},error:null}}function ah(s){return s}function b0(s){return s.access_token&&s.refresh_token&&s.expires_in}const ul=["global","local","others"];class j0{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=Lh(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=ul[0]){if(ul.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ul.join(", ")}`);try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Q(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=Yi(r,["options"]),l=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:E0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:wr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,l,c,h,f,g;try{const y={nextPage:null,lastPage:0,total:0},_=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:ah});if(_.error)throw _.error;const E=await _.json(),S=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,C=(g=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(O=>{const N=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(O.split(";")[1].split("=")[1]);y[`${P}Page`]=N}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(Q(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){yn(r);try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:wr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){yn(r);try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:wr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){yn(r);try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:wr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){yn(r.userId);try{const{data:n,error:o}=await Z(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:o}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(r){yn(r.userId),yn(r.id);try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,l,c,h,f,g;try{const y={nextPage:null,lastPage:0,total:0},_=await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:ah});if(_.error)throw _.error;const E=await _.json(),S=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,C=(g=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(O=>{const N=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(O.split(";")[1].split("=")[1]);y[`${P}Page`]=N}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(Q(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(r){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await Z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function lh(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}const vn={debug:!!(globalThis&&Dh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class T0 extends Uh{}async function C0(s,r,n){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await n()}finally{vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(r===0)throw vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new T0(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(vn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function O0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Wh(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function N0(s){return parseInt(s,16)}function R0(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function P0(s){var r;const{chainId:n,domain:o,expirationTime:l,issuedAt:c=new Date,nonce:h,notBefore:f,requestId:g,resources:y,scheme:_,uri:E,version:S}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const C=Wh(s.address),O=_?`${_}://${o}`:o,N=s.statement?`${s.statement}
`:"",P=`${O} wants you to sign in with your Ethereum account:
${C}

${N}`;let U=`URI: ${E}
Version: ${S}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(l&&(U+=`
Expiration Time: ${l.toISOString()}`),f&&(U+=`
Not Before: ${f.toISOString()}`),g&&(U+=`
Request ID: ${g}`),y){let A=`
Resources:`;for(const x of y){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);A+=`
- ${x}`}U+=A}return`${P}
${U}`}class Ie extends Error{constructor({message:r,code:n,cause:o,name:l}){var c;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(c=l??(o instanceof Error?o.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=n}}class Hi extends Ie{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function A0({error:s,options:r}){var n,o,l;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=c.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ie({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(zh(h)){if(c.rp.id!==h)return new Ie({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function I0({error:s,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ie({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(zh(o)){if(n.rpId!==o)return new Ie({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class $0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const M0=new $0;function D0(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:n,excludeCredentials:o}=s,l=Yi(s,["challenge","user","excludeCredentials"]),c=En(r).buffer,h=Object.assign(Object.assign({},n),{id:En(n.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:c,user:h});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let g=0;g<o.length;g++){const y=o[g];f.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:En(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return f}function L0(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:n}=s,o=Yi(s,["challenge","allowCredentials"]),l=En(r).buffer,c=Object.assign(Object.assign({},o),{challenge:l});if(n&&n.length>0){c.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const f=n[h];c.allowCredentials[h]=Object.assign(Object.assign({},f),{id:En(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function U0(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:Wr(new Uint8Array(s.response.attestationObject)),clientDataJSON:Wr(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function W0(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,o=s.getClientExtensionResults(),l=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Wr(new Uint8Array(l.authenticatorData)),clientDataJSON:Wr(new Uint8Array(l.clientDataJSON)),signature:Wr(new Uint8Array(l.signature)),userHandle:l.userHandle?Wr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function zh(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function uh(){var s,r;return!!(Ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function z0(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Hi("Browser returned unexpected credential type",r)}:{data:null,error:new Hi("Empty credential response",r)}}catch(r){return{data:null,error:A0({error:r,options:s})}}}async function B0(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Hi("Browser returned unexpected credential type",r)}:{data:null,error:new Hi("Empty credential response",r)}}catch(r){return{data:null,error:I0({error:r,options:s})}}}const F0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},q0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ki(...s){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of s)if(l)for(const c in l){const h=l[c];if(h!==void 0)if(Array.isArray(h))o[c]=h;else if(n(h))o[c]=h;else if(r(h)){const f=o[c];r(f)?o[c]=Ki(f,h):o[c]=Ki(h)}else o[c]=h}return o}function V0(s,r){return Ki(F0,s,r||{})}function H0(s,r){return Ki(q0,s,r||{})}class K0{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:l},c){try{const{data:h,error:f}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!h)return{data:null,error:f};const g=l??M0.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${o}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=V0(h.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:_,error:E}=await z0({publicKey:y,signal:g});return _?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:E}}case"request":{const y=H0(h.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:_,error:E}=await B0(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:g}));return _?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:E}}}}catch(h){return Q(h)?{data:null,error:h}:{data:null,error:new Ur("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new xs("rpId is required for WebAuthn authentication")};try{if(!uh())return{data:null,error:new Ur("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:l},{request:c});if(!h)return{data:null,error:f};const{webauthn:g}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:g.type,rpId:n,rpOrigins:o,credential_response:g.credential_response}})}catch(h){return Q(h)?{data:null,error:h}:{data:null,error:new Ur("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new xs("rpId is required for WebAuthn registration")};try{if(!uh())return{data:null,error:new Ur("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(_=>{var E;return(E=_.data)===null||E===void 0?void 0:E.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===r&&S.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:f};const{data:g,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:l},{create:c});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:n,rpOrigins:o,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(h){return Q(h)?{data:null,error:h}:{data:null,error:new Ur("Unexpected error in register",h)}}}}O0();const G0={url:Fy,storageKey:qy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ch(s,r,n){return await n()}const wn={};class Es{get jwks(){var r,n;return(n=(r=wn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=wn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{cachedAt:r})}constructor(r){var n,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},G0),r);if(this.storageKey=c.storageKey,this.instanceID=(n=Es.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Es.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Ve()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new j0({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Lh(c.fetch),this.lock=c.lock||ch,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&Ve()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=C0:this.lock=ch,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new K0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Dh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lh(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=lh(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ih}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},o="none";if(Ve()&&(n=o0(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),Ve()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:c}=await this._getSessionFromURL(n,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Yy(c)){const g=(r=c.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:h,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",f),await this._saveSession(h),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?this._returnResult({error:n}):this._returnResult({error:new Ur("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,l;try{const c=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Nt}),{data:h,error:f}=c;if(f||!h)return this._returnResult({data:{user:null,session:null},error:f});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(Q(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var n,o,l;try{let c;if("email"in r){const{email:_,password:E,options:S}=r;let C=null,O=null;this.flowType==="pkce"&&([C,O]=await gn(this.storage,this.storageKey)),c=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:_,password:E,data:(n=S==null?void 0:S.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:C,code_challenge_method:O},xform:Nt})}else if("phone"in r){const{phone:_,password:E,options:S}=r;c=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:E,data:(o=S==null?void 0:S.data)!==null&&o!==void 0?o:{},channel:(l=S==null?void 0:S.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Nt})}else throw new zi("You must provide either an email or phone number and a password");const{data:h,error:f}=c;if(f||!h)return await qe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let n;if("email"in r){const{email:c,password:h,options:f}=r;n=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:oh})}else if("phone"in r){const{phone:c,password:h,options:f}=r;n=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:oh})}else throw new zi("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const c=new mn;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,o,l,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,l,c,h,f,g,y,_,E,S;let C,O;if("message"in r)C=r.message,O=r.signature;else{const{chain:N,wallet:P,statement:U,options:A}=r;let x;if(Ve())if(typeof P=="object")x=P;else{const Le=window;if("ethereum"in Le&&typeof Le.ethereum=="object"&&"request"in Le.ethereum&&typeof Le.ethereum.request=="function")x=Le.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=P}const I=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href),J=await x.request({method:"eth_requestAccounts"}).then(Le=>Le).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=Wh(J[0]);let ne=(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ne){const Le=await x.request({method:"eth_chainId"});ne=N0(Le)}const Oe={domain:I.host,address:K,statement:U,uri:I.href,version:"1",chainId:ne,nonce:(l=A==null?void 0:A.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(h=(c=A==null?void 0:A.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(f=A==null?void 0:A.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=A==null?void 0:A.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=A==null?void 0:A.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(_=A==null?void 0:A.signInWithEthereum)===null||_===void 0?void 0:_.resources};C=P0(Oe),O=await x.request({method:"personal_sign",params:[R0(C),K]})}try{const{data:N,error:P}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:O},!((E=r.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Nt});if(P)throw P;if(!N||!N.session||!N.user){const U=new mn;return this._returnResult({data:{user:null,session:null},error:U})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:P})}catch(N){if(Q(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(r){var n,o,l,c,h,f,g,y,_,E,S,C;let O,N;if("message"in r)O=r.message,N=r.signature;else{const{chain:P,wallet:U,statement:A,options:x}=r;let I;if(Ve())if(typeof U=="object")I=U;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))I=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=U}const J=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const K=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),A?{statement:A}:null));let ne;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")ne=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)ne=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)O=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),N=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${J.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(l=(o=x==null?void 0:x.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((h=x==null?void 0:x.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((f=x==null?void 0:x.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((g=x==null?void 0:x.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((y=x==null?void 0:x.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((E=(_=x==null?void 0:x.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||E===void 0)&&E.length?["Resources",...x.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const K=await I.signMessage(new TextEncoder().encode(O),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=K}}try{const{data:P,error:U}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:Wr(N)},!((S=r.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(C=r.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Nt});if(U)throw U;if(!P||!P.session||!P.user){const A=new mn;return this._returnResult({data:{user:null,session:null},error:A})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:U})}catch(P){if(Q(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(r){const n=await $r(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Xy;const{data:c,error:h}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Nt});if(await qe(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const f=new mn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:h})}catch(c){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:n,provider:o,token:l,access_token:c,nonce:h}=r,f=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Nt}),{data:g,error:y}=f;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const _=new mn;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,o,l,c,h;try{if("email"in r){const{email:f,options:g}=r;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await gn(this.storage,this.storageKey));const{error:E}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:E})}if("phone"in r){const{phone:f,options:g}=r,{data:y,error:_}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=g==null?void 0:g.data)!==null&&l!==void 0?l:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:_})}throw new zi("You must provide either an email or phone number.")}catch(f){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var n,o;try{let l,c;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,c=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:f}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Nt});if(f)throw f;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,y=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(l){if(Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,o,l,c,h;try{let f=null,g=null;this.flowType==="pkce"&&([f,g]=await gn(this.storage,this.storageKey));const y=await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:g}),headers:this.headers,xform:x0});return!((c=y.data)===null||c===void 0)&&c.url&&Ve()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(f){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new ft;const{error:l}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(Q(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:c}=r,{error:h}=await Z(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:o,type:l,options:c}=r,{data:h,error:f}=await Z(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f})}throw new zi("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await $r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<il:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const h=await $r(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=ll()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=w0(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:wr}):await this._useSession(async n=>{var o,l,c;const{data:h,error:f}=n;if(f)throw f;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ft}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:wr})})}catch(n){if(Q(n))return Qy(n)&&(await this._removeSession(),await qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:l,error:c}=o;if(c)throw c;if(!l.session)throw new ft;const h=l.session;let f=null,g=null;this.flowType==="pkce"&&r.email!=null&&([f,g]=await gn(this.storage,this.storageKey));const{data:y,error:_}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:g}),jwt:h.access_token,xform:wr});if(_)throw _;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(o){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new ft;const n=Date.now()/1e3;let o=n,l=!0,c=null;const{payload:h}=al(r.access_token);if(h.exp&&(o=h.exp,l=o<=n),l){const{data:f,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:g}=await this._getUser(r.access_token);if(g)throw g;c={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(n){if(Q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:h,error:f}=n;if(f)throw f;r=(o=h.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new ft;const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!Ve())throw new Bi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Bi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Zd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Zd("No code detected.");const{data:A,error:x}=await this._exchangeCodeForSession(r.code);if(x)throw x;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:c,refresh_token:h,expires_in:f,expires_at:g,token_type:y}=r;if(!c||!f||!h||!y)throw new Bi("No session defined in URL");const _=Math.round(Date.now()/1e3),E=parseInt(f);let S=_+E;g&&(S=parseInt(g));const C=S-_;C*1e3<=kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${E}s`);const O=S-E;_-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,S,_):_-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,S,_);const{data:N,error:P}=await this._getUser(c);if(P)throw P;const U={provider_token:o,provider_refresh_token:l,access_token:c,expires_in:E,expires_at:S,refresh_token:h,token_type:y,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:r.type},error:null})}catch(o){if(Q(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await $r(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:l,error:c}=n;if(c)return this._returnResult({error:c});const h=(o=l.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:f}=await this.admin.signOut(h,r);if(f&&!(Jy(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=i0(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,l;try{const{data:{session:c},error:h}=n;if(h)throw h;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await gn(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:l}=await this._useSession(async c=>{var h,f,g,y,_;const{data:E,error:S}=c;if(S)throw S;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",C,{headers:this.headers,jwt:(_=(y=E.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(l)throw l;return Ve()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:r.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(Q(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:l,data:{session:c}}=n;if(l)throw l;const{options:h,provider:f,token:g,access_token:y,nonce:_}=r,E=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=c==null?void 0:c.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:g,access_token:y,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Nt}),{data:S,error:C}=E;return C?this._returnResult({data:{user:null,session:null},error:C}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new mn}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:C}))}catch(l){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,l;const{data:c,error:h}=n;if(h)throw h;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await u0(async l=>(l>0&&await l0(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Nt})),(l,c)=>{const h=200*Math.pow(2,l);return c&&ol(c)&&Date.now()+h-o<kn})}catch(o){if(this._debug(n,"error",o),Q(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),Ve()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await $r(this.storage,this.storageKey);if(l&&this.userStorage){let h=await $r(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await Sn(this.userStorage,this.storageKey+"-user",h)),l.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:ll()}else if(l&&!l.user&&!l.user){const h=await $r(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(l.user=h.user,await qe(this.storage,this.storageKey+"-user"),await Sn(this.storage,this.storageKey,l)):l.user=ll()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const c=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<il;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${il}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),ol(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:f}=await this._getUser(l.access_token);!f&&(h!=null&&h.user)?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Zi;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new ft;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(l,"error",c),Q(c)){const h={data:null,error:c};return ol(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,n)}catch(g){c.push(g)}});if(await Promise.all(h),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await qe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Sn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const c=sh(l);await Sn(this.storage,this.storageKey,c)}else{const l=sh(n);await Sn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await qe(this.storage,this.storageKey),await qe(this.storage,this.storageKey+"-code-verifier"),await qe(this.storage,this.storageKey+"-user"),this.userStorage&&await qe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),kn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${kn}ms, refresh threshold is ${vl} ticks`),l<=vl&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Uh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,h]=await gn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(f.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);l.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:l,error:c}=n;return c?this._returnResult({data:null,error:c}):await Z(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,l;const{data:c,error:h}=n;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:y}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return y?this._returnResult({data:null,error:y}):(r.factorType==="totp"&&g.type==="totp"&&(!((l=g==null?void 0:g.totp)===null||l===void 0)&&l.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?U0(r.webauthn.credential_response):W0(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:g}=await Z(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:g}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=await Z(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(h.error)return h;const{data:f}=h;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:D0(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:L0(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=al(o.access_token);let h=null;c.aal&&(h=c.aal);let f=h;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?await Z(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new ft})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new ft});const h=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&Ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new ft});const h=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&Ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await Z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new ft})})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?(await Z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ft})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(f=>f.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===r),o&&this.jwks_cached_at+Ky>l)return o;const{data:c,error:h}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,o=c.keys.find(f=>f.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:C,error:O}=await this.getSession();if(O||!C.session)return this._returnResult({data:null,error:O});o=C.session.access_token}const{header:l,payload:c,signature:h,raw:{header:f,payload:g}}=al(o);n!=null&&n.allowExpired||g0(c.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!y){const{error:C}=await this.getUser(o);if(C)throw C;return{data:{claims:c,header:l,signature:h},error:null}}const _=y0(l.alg),E=await crypto.subtle.importKey("jwk",y,_,!0,["verify"]);if(!await crypto.subtle.verify(_,E,h,n0(`${f}.${g}`)))throw new kl("Invalid JWT signature");return{data:{claims:c,header:l,signature:h},error:null}}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}}Es.nextInstanceID={};const J0=Es,Q0="2.90.1";let ms="";typeof Deno<"u"?ms="deno":typeof document<"u"?ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ms="react-native":ms="node";const Y0={"X-Client-Info":`supabase-js-${ms}/${Q0}`},X0={headers:Y0},Z0={schema:"public"},ev={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tv={};function bs(s){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bs(s)}function rv(s,r){if(bs(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,r);if(bs(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function nv(s){var r=rv(s,"string");return bs(r)=="symbol"?r:r+""}function sv(s,r,n){return(r=nv(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function dh(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,o)}return n}function Ce(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?dh(Object(n),!0).forEach(function(o){sv(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):dh(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}const iv=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),ov=()=>Headers,av=(s,r,n)=>{const o=iv(n),l=ov();return async(c,h)=>{var f;const g=(f=await r())!==null&&f!==void 0?f:s;let y=new l(h==null?void 0:h.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),o(c,Ce(Ce({},h),{},{headers:y}))}};function lv(s){return s.endsWith("/")?s:s+"/"}function uv(s,r){var n,o;const{db:l,auth:c,realtime:h,global:f}=s,{db:g,auth:y,realtime:_,global:E}=r,S={db:Ce(Ce({},g),l),auth:Ce(Ce({},y),c),realtime:Ce(Ce({},_),h),storage:{},global:Ce(Ce(Ce({},E),f),{},{headers:Ce(Ce({},(n=E==null?void 0:E.headers)!==null&&n!==void 0?n:{}),(o=f==null?void 0:f.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return s.accessToken?S.accessToken=s.accessToken:delete S.accessToken,S}function cv(s){const r=s==null?void 0:s.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lv(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var dv=class extends J0{constructor(s){super(s)}},hv=class{constructor(s,r,n){var o,l;this.supabaseUrl=s,this.supabaseKey=r;const c=cv(s);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Z0,realtime:tv,auth:Ce(Ce({},ev),{},{storageKey:h}),global:X0},g=uv(n??{},f);if(this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=g.auth)!==null&&y!==void 0?y:{},this.headers,g.global.fetch)}this.fetch=av(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Ce({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new Vg(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new By(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Wg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,r,n)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,r,n;if(s.accessToken)return await s.accessToken();const{data:o}=await s.auth.getSession();return(r=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,storageKey:c,flowType:h,lock:f,debug:g,throwOnError:y},_,E){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dv({url:this.authUrl.href,headers:Ce(Ce({},S),_),storageKey:c,autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,flowType:h,lock:f,debug:g,throwOnError:y,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new ly(this.realtimeUrl.href,Ce(Ce({},s),{},{params:Ce(Ce({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,r,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const fv=(s,r,n)=>new hv(s,r,n);function pv(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const r=s.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}pv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mv="https://ajxdxrmaintyomowaqzn.supabase.co",gv="sb_publishable_3y5l20wRtXDRlBLd0iTmgQ_kDiSPOFF",Ye=fv(mv,gv);async function yv(){if(!Ye){const o=localStorage.getItem("journal-data");return o?JSON.parse(o):{}}const{data:s,error:r}=await Ye.from("journal_entries").select("*");if(r){console.error("Error fetching journal entries:",r);const o=localStorage.getItem("journal-data");return o?JSON.parse(o):{}}const n={};return s.forEach(o=>{n[o.date_key]={notes:o.notes,gratitude:o.gratitude,goals:o.goals,mood:o.mood}}),n}async function vv(s,r){if(!Ye){const o=JSON.parse(localStorage.getItem("journal-data")||"{}");return o[s]=r,localStorage.setItem("journal-data",JSON.stringify(o)),{success:!0}}const{error:n}=await Ye.from("journal_entries").upsert({date_key:s,notes:r.notes||null,gratitude:r.gratitude||null,goals:r.goals||null,mood:r.mood||null,updated_at:new Date().toISOString()},{onConflict:"date_key"});if(n){console.error("Error saving journal entry:",n);const o=JSON.parse(localStorage.getItem("journal-data")||"{}");return o[s]=r,localStorage.setItem("journal-data",JSON.stringify(o)),{success:!1,error:n}}return{success:!0}}async function wv(s){if(!Ye){const o=localStorage.getItem(`journal-goals-${s}`);return o?JSON.parse(o):[]}const{data:r,error:n}=await Ye.from("goals").select("*").eq("year",s).order("created_at",{ascending:!0});if(n){console.error("Error fetching goals:",n);const o=localStorage.getItem(`journal-goals-${s}`);return o?JSON.parse(o):[]}return r.map(o=>({id:o.id,text:o.text,category:o.category,completed:o.completed}))}async function _v(s,r){if(!Ye){const l=JSON.parse(localStorage.getItem(`journal-goals-${s}`)||"[]");return l.push(r),localStorage.setItem(`journal-goals-${s}`,JSON.stringify(l)),{success:!0,data:r}}const{data:n,error:o}=await Ye.from("goals").insert({id:r.id,year:s,text:r.text,category:r.category,completed:r.completed}).select().single();if(o){console.error("Error adding goal:",o);const l=JSON.parse(localStorage.getItem(`journal-goals-${s}`)||"[]");return l.push(r),localStorage.setItem(`journal-goals-${s}`,JSON.stringify(l)),{success:!1,error:o,data:r}}return{success:!0,data:n}}async function kv(s,r,n){if(!Ye){const c=JSON.parse(localStorage.getItem(`journal-goals-${s}`)||"[]").map(h=>h.id===r?{...h,...n}:h);return localStorage.setItem(`journal-goals-${s}`,JSON.stringify(c)),{success:!0}}const{error:o}=await Ye.from("goals").update(n).eq("id",r);if(o){console.error("Error updating goal:",o);const c=JSON.parse(localStorage.getItem(`journal-goals-${s}`)||"[]").map(h=>h.id===r?{...h,...n}:h);return localStorage.setItem(`journal-goals-${s}`,JSON.stringify(c)),{success:!1,error:o}}return{success:!0}}async function Sv(s,r){if(!Ye){const l=JSON.parse(localStorage.getItem(`journal-goals-${s}`)||"[]").filter(c=>c.id!==r);return localStorage.setItem(`journal-goals-${s}`,JSON.stringify(l)),{success:!0}}const{error:n}=await Ye.from("goals").delete().eq("id",r);if(n){console.error("Error deleting goal:",n);const l=JSON.parse(localStorage.getItem(`journal-goals-${s}`)||"[]").filter(c=>c.id!==r);return localStorage.setItem(`journal-goals-${s}`,JSON.stringify(l)),{success:!1,error:n}}return{success:!0}}async function xv(s){if(!Ye){const l=localStorage.getItem(`journal-reflections-${s}`);return l?JSON.parse(l):{}}const{data:r,error:n}=await Ye.from("reflections").select("*").eq("year",s);if(n){console.error("Error fetching reflections:",n);const l=localStorage.getItem(`journal-reflections-${s}`);return l?JSON.parse(l):{}}const o={};return r.forEach(l=>{o[l.prompt_id]=l.content}),o}async function Ev(s,r,n){if(!Ye){const l=JSON.parse(localStorage.getItem(`journal-reflections-${s}`)||"{}");return l[r]=n,localStorage.setItem(`journal-reflections-${s}`,JSON.stringify(l)),{success:!0}}const{error:o}=await Ye.from("reflections").upsert({year:s,prompt_id:r,content:n,updated_at:new Date().toISOString()},{onConflict:"year,prompt_id"});if(o){console.error("Error saving reflection:",o);const l=JSON.parse(localStorage.getItem(`journal-reflections-${s}`)||"{}");return l[r]=n,localStorage.setItem(`journal-reflections-${s}`,JSON.stringify(l)),{success:!1,error:o}}return{success:!0}}const cl=[{id:"proudest",icon:vm,label:"Proudest Moment",placeholder:"What was your proudest achievement this year?"},{id:"learned",icon:mm,label:"Lessons Learned",placeholder:"What important lessons did you learn?"},{id:"grateful",icon:Gi,label:"Gratitude",placeholder:"What are you most grateful for from this year?"},{id:"challenges",icon:vs,label:"Challenges Overcome",placeholder:"What challenges did you face and overcome?"},{id:"growth",icon:js,label:"Personal Growth",placeholder:"How did you grow as a person?"},{id:"joy",icon:Ji,label:"Moments of Joy",placeholder:"What moments brought you the most joy?"}];function bv({selectedDate:s,setSelectedDate:r}){const n=s.getFullYear(),o=n-1,[l,c]=se.useState({}),[h,f]=se.useState(!0),g=se.useRef({});se.useEffect(()=>{(async()=>{f(!0);try{const C=await xv(o);c(C)}catch(C){console.error("Error loading reflections:",C)}finally{f(!1)}})()},[o]);const y=(S,C)=>{c(O=>({...O,[S]:C})),g.current[S]&&clearTimeout(g.current[S]),g.current[S]=setTimeout(async()=>{try{await Ev(o,S,C)}catch(O){console.error("Error saving reflection:",O)}},500)},_=S=>{const C=new Date(s);C.setFullYear(n+S),r(C)},E=Object.values(l).filter(S=>S==null?void 0:S.trim()).length;return m.jsxs("div",{className:"reflections-page",children:[m.jsxs("div",{className:"reflections-header",children:[m.jsx("div",{className:"tape tape-left"}),m.jsxs("div",{className:"header-content",children:[m.jsxs("div",{className:"year-nav",children:[m.jsx("button",{onClick:()=>_(-1),className:"year-btn",children:m.jsx(bn,{size:18})}),m.jsx("span",{className:"year-number",children:o}),m.jsx("button",{onClick:()=>_(1),className:"year-btn",children:m.jsx(jn,{size:18})})]}),m.jsx("h2",{children:"reflections"})]}),m.jsx("div",{className:"tape tape-right"})]}),m.jsxs("div",{className:"progress-indicator",children:[m.jsxs("span",{children:[E," of ",cl.length," reflections"]}),m.jsx("div",{className:"progress-bar",children:m.jsx("div",{className:"progress-fill",style:{width:`${E/cl.length*100}%`}})})]}),m.jsx("div",{className:"reflections-grid",children:cl.map(S=>{const C=S.icon;return m.jsxs("div",{className:"reflection-card",children:[m.jsxs("div",{className:"card-header",children:[m.jsx(C,{size:20,className:"card-icon"}),m.jsx("h3",{children:S.label})]}),m.jsx("textarea",{value:l[S.id]||"",onChange:O=>y(S.id,O.target.value),placeholder:S.placeholder,rows:5})]},S.id)})})]})}const hh=[{id:"personal",label:"Personal",icon:js,color:"#9d4edd"},{id:"career",label:"Career",icon:um,color:"#00acc1"},{id:"health",label:"Health",icon:fm,color:"#4caf50"},{id:"relationships",label:"Relationships",icon:Gi,color:"#e91e63"},{id:"learning",label:"Learning",icon:lm,color:"#6b5ce7"},{id:"other",label:"Other",icon:vs,color:"#8d6e63"}];function jv({selectedDate:s,setSelectedDate:r}){const n=s.getFullYear(),[o,l]=se.useState([]),[c,h]=se.useState(!0),[f,g]=se.useState(""),[y,_]=se.useState("personal"),[E,S]=se.useState(!1);se.useEffect(()=>{(async()=>{h(!0);try{const I=await wv(n);l(I)}catch(I){console.error("Error loading goals:",I)}finally{h(!1)}})()},[n]);const C=x=>{const I=new Date(s);I.setFullYear(n+x),r(I)},O=async()=>{if(!f.trim())return;const x={id:Date.now(),text:f,category:y,completed:!1};l(I=>[...I,x]),g(""),S(!1);try{await _v(n,x)}catch(I){console.error("Error adding goal:",I)}},N=async x=>{const J=!o.find(K=>K.id===x).completed;l(K=>K.map(ne=>ne.id===x?{...ne,completed:J}:ne));try{await kv(n,x,{completed:J})}catch(K){console.error("Error toggling goal:",K)}},P=async x=>{l(I=>I.filter(J=>J.id!==x));try{await Sv(n,x)}catch(I){console.error("Error deleting goal:",I)}},U=o.filter(x=>x.completed).length,A=hh.map(x=>({...x,goals:o.filter(I=>I.category===x.id)})).filter(x=>x.goals.length>0);return m.jsxs("div",{className:"goals-page",children:[m.jsxs("div",{className:"goals-header",children:[m.jsx("div",{className:"tape tape-left"}),m.jsxs("div",{className:"header-content",children:[m.jsxs("div",{className:"year-nav",children:[m.jsx("button",{onClick:()=>C(-1),className:"year-btn",children:m.jsx(bn,{size:18})}),m.jsx("span",{className:"year-number",children:n}),m.jsx("button",{onClick:()=>C(1),className:"year-btn",children:m.jsx(jn,{size:18})})]}),m.jsx("h2",{children:"goals"})]}),m.jsx("div",{className:"tape tape-right"})]}),o.length>0&&m.jsxs("div",{className:"progress-indicator",children:[m.jsxs("span",{children:[U," of ",o.length," goals achieved"]}),m.jsx("div",{className:"progress-bar",children:m.jsx("div",{className:"progress-fill",style:{width:`${U/o.length*100}%`}})})]}),m.jsxs("button",{className:"add-goal-btn",onClick:()=>S(!E),children:[m.jsx(gm,{size:20}),m.jsx("span",{children:"Add New Goal"})]}),E&&m.jsxs("div",{className:"add-goal-form",children:[m.jsxs("div",{className:"form-row",children:[m.jsx("input",{type:"text",value:f,onChange:x=>g(x.target.value),placeholder:"What do you want to achieve?",onKeyDown:x=>x.key==="Enter"&&O(),autoFocus:!0}),m.jsx("button",{onClick:O,className:"submit-btn",children:"Add"})]}),m.jsx("div",{className:"category-selector",children:hh.map(x=>{const I=x.icon;return m.jsxs("button",{className:`category-btn ${y===x.id?"selected":""}`,onClick:()=>_(x.id),style:{"--cat-color":x.color},children:[m.jsx(I,{size:16}),m.jsx("span",{children:x.label})]},x.id)})})]}),c?m.jsxs("div",{className:"empty-state",children:[m.jsx(vs,{size:48}),m.jsx("h3",{children:"Loading goals..."})]}):o.length===0?m.jsxs("div",{className:"empty-state",children:[m.jsx(vs,{size:48}),m.jsx("h3",{children:"No goals yet"}),m.jsxs("p",{children:["Start by adding your first goal for ",n,"!"]})]}):m.jsx("div",{className:"goals-list",children:A.map(x=>{const I=x.icon;return m.jsxs("div",{className:"category-section",children:[m.jsxs("div",{className:"category-header",style:{"--cat-color":x.color},children:[m.jsx(I,{size:20}),m.jsx("h3",{children:x.label}),m.jsxs("span",{className:"category-count",children:[x.goals.filter(J=>J.completed).length,"/",x.goals.length]})]}),m.jsx("div",{className:"category-goals",children:x.goals.map(J=>m.jsxs("div",{className:`goal-item ${J.completed?"completed":""}`,children:[m.jsx("button",{className:"check-btn",onClick:()=>N(J.id),style:{"--cat-color":x.color},children:J.completed?m.jsx(dm,{size:16}):m.jsx(hm,{size:16})}),m.jsx("span",{className:"goal-text",children:J.text}),m.jsx("button",{className:"delete-btn",onClick:()=>P(J.id),children:m.jsx(wm,{size:16})})]},J.id))})]},x.id)})})]})}function Tv(){const[s,r]=se.useState(!0),[n,o]=se.useState("year"),[l,c]=se.useState(new Date),[h,f]=se.useState({}),[g,y]=se.useState(!0);se.useEffect(()=>{(async()=>{try{const N=await yv();f(N)}catch(N){console.error("Error loading journal data:",N)}finally{y(!1)}})()},[]);const _=O=>{c(O),o("day")},E=se.useCallback(async(O,N)=>{f(P=>({...P,[O]:N}));try{await vv(O,N)}catch(P){console.error("Error saving to Supabase:",P)}},[]),S=O=>O.toISOString().split("T")[0],C=()=>{r(!1)};return s?m.jsx(sm,{onComplete:C}):m.jsxs("div",{className:"app",children:[m.jsx(km,{currentView:n,setCurrentView:o,selectedDate:l,setSelectedDate:c}),m.jsxs("main",{className:"main-content",children:[n==="year"&&m.jsx(Pg,{selectedDate:l,onDateSelect:_,journalData:h}),n==="month"&&m.jsx(Ag,{selectedDate:l,setSelectedDate:c,journalData:h,onSaveDay:E,getDateKey:S}),n==="goals"&&m.jsx(jv,{selectedDate:l,setSelectedDate:c}),n==="reflections"&&m.jsx(bv,{selectedDate:l,setSelectedDate:c}),n==="mood"&&m.jsx(Ig,{selectedDate:l,setSelectedDate:c,journalData:h,onSaveDay:E,getDateKey:S}),n==="day"&&m.jsx(Mg,{selectedDate:l,setSelectedDate:c,journalData:h,onSaveDay:E,getDateKey:S})]})]})}Jp.createRoot(document.getElementById("root")).render(m.jsx(Bp.StrictMode,{children:m.jsx(Tv,{})}));
